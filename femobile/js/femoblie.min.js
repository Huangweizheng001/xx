"use strict";function flashChecker(){var e=0,t=0;if("ActiveXObject"in window)try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");e=1,VSwf=n.GetVariable("$version"),t=parseInt(VSwf.split(" ")[1].split(",")[0])}catch(e){}else try{if(navigator.plugins&&navigator.plugins.length>0){if(n=navigator.plugins["Shockwave Flash"]){e=1;for(var o=n.description.split(" "),i=0;i<o.length;++i)isNaN(parseInt(o[i]))||(t=parseInt(o[i]))}}}catch(e){}return{f:e,v:t}}function systemCheck(){var e=navigator.userAgent,t=(navigator.appVersion,e.indexOf("Android")>-1||e.indexOf("Linux")>-1),n=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return!!t||!n&&void 0}function checkX5(){var e=navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)||!!e.match(/mqqbrowser|qzone|qqbrowser/i)}function checkLogined(){return!!$(window).storager({key:"feUid"}).readStorage()}function emptyCheck(e,t){if(""==e)return layer.msg(t),!0}function ruleCheck(e,t,n){if(!e.test(t))return layer.msg(n),!0}function errorTips(e){layer.msg(e)}function successTips(e){layer.msg(e)}function varEmptyDeal(e){return void 0==e||"undefined"==e||null==e?"":e}function valueEmpty(e){return void 0!=e&&"undefined"!=e&&null!=e&&""!=e}function goBack(){""===document.referrer?window.location.href=ROOT+"index.html":window.location.href=document.referrer}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};$("body").append('<div class = "lds-eclipse" ><div></div></div>'),document.onreadystatechange=function(){"complete"===document.readyState&&$(".lds-eclipse").fadeOut().remove()},$.getUrlParam=function(e){if("object"===(void 0===e?"undefined":void 0===e?"undefined":_typeof(e)))return window.location.search.substr(1);var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):void 0},$.getBasePath=function(e){var t=window.document.location.href,n=window.document.location.pathname,o=t.indexOf(n),i=t.substring(0,o),r=(n.substring(0,n.substr(1).indexOf("/")+1),i+"/");if(1==e)return t;if(2==e)return n;if(3==e)return i;if(4==e&&(r=r+n+"/"),5==e){var a=n.split("/");return a.slice(a.length-1,a.length).toString(String).split(".").slice(0,1)}return r},$.getCurrentTime=function(e,t,n,o){void 0==n||null==n||""==n?(n="-",o=":"):void 0!=o&&null!=o&&""!=o||(o=":",2!=t&&3!=t||(o=n));var i="",r=[];return""==e||void 0==e?i=new Date:(e=e.replace(/-/g,"/"),console.log(e),i=e=new Date(e)),1==t&&(i=i.getFullYear()+n+(i.getMonth()+1)+n+i.getDate()),2==t&&(i=i.getHours()+o+i.getMinutes()+o+i.getSeconds()),3==t&&(i=i.getHours()+o+i.getMinutes()),4==t&&(i=i.getFullYear()+n+(i.getMonth()+1)+n+i.getDate()+" "+i.getHours()+o+i.getMinutes()+o+i.getSeconds()),5==t&&(i=i.valueOf()),6==t?(r.push(i.getFullYear()),r.push(i.getMonth()+1),r.push(i.getDate()),r.push(i.getHours()),r.push(i.getMinutes()),r.push(i.getSeconds()),r):i},$.getDateTimeFormat=function(e,t,n){void 0==t||null==t?(t="-",n=":"):void 0!=n&&null!=n||(n=":");return e.replace(" ",n).replace(/\:/g,t).split(t)},$.getDateFormat=function(e,t,n){void 0!=t&&null!=t||(t="-");return e.split(t)},$.scrollTo=function(e,t){null!=t&&void 0!=t&&""!=t||(t=0),null!=e&&void 0!=e&&""!=e||(e=0),$("html,body").animate({scrollTop:e},t)};var ONLINEMODE=!0,ROOT=$.getBasePath(),ROOTFILE=ROOT+"images/",ROOTDATA=ROOT+"data/",SERVERROOT="http://www.fetv.cn/",SERVERROOTFILE="http://www.fetv.cn/fe/",SERVERROOTDATA=SERVERROOT+"fe/website/ashx/",TempOrgId=1,PROMPTARR=["图形验证码获取异常,请刷新！","手机号不能为空!","手机号/用户名不能为空!","请输入合法的用户名!","密码不能为空!","请输入正确的手机号码！","短信验证码不能为空!","获取动态码","图形验证码不能为空!","两次密码不一致!","请设置合法的密码(4-16位字符)","请输入正确的手机号码或QQ号"],CHECKRULEARR=[/^[A-Za-z0-9_\u4e00-\u9fa5]{2,16}$/,/^1[345789]\d{9}$/,/^\w{4,16}$/,/^[0-9]*$/],MESSAGECODETIME=90;!function(){var e=document.documentElement.clientWidth||document.body.clientWidth,t=document.getElementsByTagName("html")[0];t.style.fontSize=e<=750?e/750*625+"%":"625%",window.addEventListener("resize",function(){e=document.documentElement.clientWidth||document.body.clientWidth,t.style.fontSize=e<=750?e/750*625+"%":"625%"})}(),"undefined"!=typeof axios&&void 0!=("undefined"==typeof axios?"undefined":_typeof(axios))&&(axios.defaults.baseURL=SERVERROOTDATA,axios.defaults.headers["Content-Type"]="application/x-www-form-urlencoded",axios.defaults.transformRequest=[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t}]);
"use strict";Vue.component("footer-template",{template:'<div class="feFooterBox clearfix"><div class="feSpan1-5" v-for="(item, index) in list">  <a :class="[item.class, {\'active\':item.active}]" v-bind:href="item.href | addFooterHrefPre">{{item.name}}</a></div>  </div>',data:function(){return{list:[{name:"首页",href:"index.html",class:"feIndexBtn",active:!1,pageName:"index"},{name:"直播",href:"livelist.html",class:"feLiveBtn",active:!1,pageName:"livelist"},{name:"作业",href:"work.html",class:"feHomework",active:!1,pageName:"work"},{name:"全部课程",href:"courseselect.html",class:"feCommunityBtn",active:!1,pageName:"courseselect"},{name:"我的",href:"member.html",class:"feMeBtn",active:!1,pageName:"member"}]}},mounted:function(){this.$nextTick(function(){this.setActive()})},filters:{addFooterHrefPre:function(e){return ROOT+e}},methods:{setActive:function(){var e=$.getBasePath(5);""==$.getBasePath(5)||void 0==$.getBasePath(5)?this.list[0].active=!0:this.list.forEach(function(t,a){e==t.pageName&&(t.active=!0)})}}});var footer=new Vue({el:"#feFooter"});
"use strict";Vue.component("footer-news-template",{template:'<div class="feFooterBox clearfix"><div class="span4" v-for="(item, index) in list">  <a :class="[item.class, {\'active\':item.active}]" v-bind:href="item.href | addFooterHrefPre">{{item.name}}</a></div>  </div>',data:function(){return{list:[{name:"教育资讯",href:"news.html",class:"feNewsBtn",active:!1,pageName:"news"},{name:"视频",href:"mediahub.html",class:"feMovieBtn",active:!1,pageName:"mediahub"},{name:"活动专题",href:"activespecial.html",class:"feActivityBtn",active:!1,pageName:"activespecial"}]}},mounted:function(){this.$nextTick(function(){this.setActive()})},filters:{addFooterHrefPre:function(e){return ROOT+e}},methods:{setActive:function(){var e=$.getBasePath(5);""==$.getBasePath(5)||void 0==$.getBasePath(5)?this.list[0].active=!0:this.list.forEach(function(t,a){e==t.pageName&&(t.active=!0)})}}});var footerNews=new Vue({el:"#feNewsFooter"});
"use strict";Vue.component("header-orange-template",{props:["title","openright","rightname","href"],template:'<div class="feHeaderOrangeBox feHeaderInner"> <a class="feGoBack" @click="goBack" href="javascript:;"></a><h4 class="feTitle">{{ title }}</h4> <a v-if="openright" class="feOtherLink" :href="href">{{ rightname }}</a> </div>',methods:{goBack:function(){""===document.referrer?window.location.href=ROOT+"index.html":window.history.go(-1)}}});var feHeaderOrange=new Vue({el:"#feHeaderOrange"});
"use strict";Vue.component("header-transparent-share-template",{data:function(){return{openShareFlag:!1}},props:["title","openright"],template:'<div class="feHeaderWhiteShareBox feHeaderTransparentShareBox feHeaderInner" :class="{\'active\': openShareFlag}"> <a class="feGoBack" @click="goBack" href="javascript:;"></a><h4 class="feTitle">{{ title }}</h4> <a v-if="openright" class="feOtherLink" @click="openShare"></a><div class="mask" @click="cancelShare"></div><div class="feShareBox"><div class="feShareTopBox clearfix"><div class="span4"> <a  class="feShareLI feShareWX" href="javascript:;">微信</a></div><div class="span4">   <a  class="feShareLI feShareQQ" href="javascript:;">QQ</a></div><div class="span4">    <a  class="feShareLI feShareWB" href="javascript:;">微博</a> </div></div><div class="feCancelBox"><a href="javascript:;" @click="cancelShare">取消</a></div> </div> </div>',methods:{goBack:function(){""===document.referrer?window.location.href=ROOT+"index.html":window.history.go(-1)},openShare:function(){this.openShareFlag=!0},cancelShare:function(){this.openShareFlag=!1}}});var feHeaderTransparent=new Vue({el:"#feHeaderTransparentShare"});
"use strict";Vue.component("header-white-template",{props:["title","openright","rightname","href"],template:'<div class="feHeaderWhiteBox feHeaderInner"> <a class="feGoBack" @click="goBack" href="javascript:;"></a><h4 class="feTitle">{{ title }}</h4> <a v-if="openright" class="feOtherLink" :href="href">{{ rightname }}</a> </div>',methods:{goBack:function(){""===document.referrer?window.location.href=ROOT+"index.html":window.history.go(-1)}}});var feHeaderWhite=new Vue({el:"#feHeaderWhite"});
"use strict";Vue.component("header-white-search-template",{props:["title"],template:'<div class="feHeaderWhiteSearchBox feHeaderInner"><a class="feGoBack" href="javascript:;" @click="goBack"></a><form class="feSearchInput"><input type="search" :placeholder="title" name=""> </form> </div>',methods:{goBack:function(){""===document.referrer?window.location.href=ROOT+"index.html":window.history.go(-1)}}});var feHeaderWhiteSearch=new Vue({el:"#feHeaderWhiteSearch"});
"use strict";Vue.component("header-white-share-template",{data:function(){return{openShareFlag:!1}},props:["title","openright"],template:'<div class="feHeaderWhiteShareBox feHeaderInner" :class="{\'active\': openShareFlag}"> <a class="feGoBack" @click="goBack" href="javascript:;"></a><h4 class="feTitle">{{ title }}</h4> <a v-if="openright" class="feOtherLink" @click="openShare"></a><div class="mask" @click="cancelShare"></div><div class="feShareBox"><div class="feShareTopBox clearfix"><div class="span4"> <a  class="feShareLI feShareWX" href="javascript:;">微信</a></div><div class="span4">   <a  class="feShareLI feShareQQ" href="javascript:;">QQ</a></div><div class="span4">    <a  class="feShareLI feShareWB" href="javascript:;">微博</a> </div></div><div class="feCancelBox"><a href="javascript:;" @click="cancelShare">取消</a></div> </div> </div>',methods:{goBack:function(){""===document.referrer?window.location.href=ROOT+"index.html":window.history.go(-1)},openShare:function(){this.openShareFlag=!0},cancelShare:function(){this.openShareFlag=!1}}});var feHeaderWhiteShare=new Vue({el:"#feHeaderWhiteShare"});
"use strict";Vue.component("initempty-component",{props:["initflag","label"],template:'<div class="feInitEmpty" v-if="initflag"><span class="feInitEmptyIcon"> ╮(╯▽╰)╭ </span><p class="feInitEmptyTips">{{label}}</p></div>'});
"use strict";function accountApp(){var e=[],t=varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),n=varEmptyDeal($(window).storager({key:"feUType"}).readStorage());console.log(n),axios({method:"post",url:"City.ashx?action=getCityListByProvinceId",data:{provinceId:1}}).then(function(t){(e=t.data.rows).forEach(function(e,t){e.organName=e.cityName})}).then(function(){new Vue({el:"#accountApp",data:{userInf:[],userIcon:[],userName:"",tempName:"",nickName:"",sexValue:0,birthday:"",address:"",tempAddress:"",schoolId:"",gradeId:"",classId:"",isMask:!1,isModifyName:!1,isModifySex:!1,isModifyAddress:!1,isModifySchool:!1,isModifyGrade:!1,isModifyClass:!1,slots:[{flex:1,values:e,key:1,defaultIndex:0,className:"slot1",textAlign:"left"},{divider:!0,content:"-",className:"slot2"},{flex:1,values:e[0].children,defaultIndex:0,className:"slot3",textAlign:"right"}],cityIndex:0,schoolIndex:0,tempCityIndex:0,tempSchoolId:0,tempSchoolArr:[],slotsGrade:[{flex:1,values:[],key:1,defaultIndex:0,className:"slot1",textAlign:"center"}],tempGradeArr:[],tempGradeIndex:0,tempClassArr:[],tempClassIndex:0,slotsClass:[{flex:1,values:[],key:1,defaultIndex:0,className:"slot1",textAlign:"center"}]},filters:{},mounted:function(){this.$nextTick(function(){this.getUserInf()})},methods:{getUserInf:function(){var e=this;axios({method:"post",url:"User.ashx?action=getUserHeadPortrait",data:{userId:t,userType:n}}).then(function(t){e.userIcon=t.data.rows,e.userIcon.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)})}).catch(function(e){console.log(e)}),axios({method:"post",url:"User.ashx?action=getAppUserInfo",data:{userId:t,userType:n}}).then(function(t){e.userInf=t.data.rows,e.userName=e.userInf[0].userName,e.tempName=e.userName,e.nickName=e.userInf[0].nickName,e.sexValue=e.userInf[0].sex,e.birthday=e.userInf[0].birthDay,e.address=e.userInf[0].address,e.tempAddress=e.address,e.schoolId=e.userInf[0].organId,e.gradeId=e.userInf[0].gradeId,e.classId=e.userInf[0].classId}).then(function(){e.findIndexSchool(e.schoolId),e.initGrade(e.schoolId),e.initClass(e.schoolId)}).catch(function(e){console.log(e)})},findIndexSchool:function(t){var n=this;e.forEach(function(e,s){e.children.forEach(function(e,o){t==e.organId&&(n.slots[0].defaultIndex=s,n.slots[2].defaultIndex=o)})})},initGrade:function(e){var t=this;axios({method:"post",url:"Grade.ashx?action=getGradeListByOrganId",data:{organId:e}}).then(function(e){t.slotsGrade[0].values=e.data.rows}).then(function(e){t.slotsGrade[0].values.forEach(function(e,n){e.gradeId==t.gradeId&&(t.slotsGrade[0].defaultIndex=n)})}).catch(function(e){console.log(e)})},initClass:function(e){var t=this;axios({method:"post",url:"Class.ashx?action=getClassListByOrganId",data:{organId:e}}).then(function(e){t.slotsClass[0].values=e.data.rows}).then(function(e){t.slotsClass[0].values.forEach(function(e,n){e.classId==t.classId&&(t.slotsClass[0].defaultIndex=n)})}).catch(function(e){console.log(e)})},update:function(){var e=this,s=new FormData($("#feIconForm")[0]);s.append("userId",t),s.append("userType",n),$.ajax({url:SERVERROOTDATA+"User.ashx?action=updateUserAppHeadPortrait",type:"POST",data:s,dataType:"json",processData:!1,contentType:!1,success:function(t){e.userIcon=t.rows,e.userIcon.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)})}})},openChangeName:function(){this.isModifyName=!0,this.openMask()},updateBirthday:function(){this.updateUserInf()},openChangeSex:function(){this.isModifySex=!0,this.openMask()},openChangeAddress:function(){this.isModifyAddress=!0,this.openMask()},openChangeSchool:function(){this.isModifySchool=!0,this.openMask()},openChangeGrade:function(){this.isModifyGrade=!0,this.openMask()},openChangeClass:function(){this.isModifyClass=!0,this.openMask()},openMask:function(){this.isMask=!0},saveName:function(){this.userName=this.tempName,this.closeMask(),this.updateUserInf()},cancelName:function(){this.tempName=this.userName,this.closeMask()},saveAddress:function(){this.address=this.tempAddress,this.closeMask(),this.updateUserInf()},cancelAddress:function(){this.tempAddress=this.address,this.closeMask()},changeGender:function(e){0==e?(this.userInf[0].sexName="男",this.sexValue=0):(this.userInf[0].sexName="女",this.sexValue=1),this.updateUserInf(),this.closeMask()},updateUserInf:function(){axios({method:"post",url:"User.ashx?action=updateBasicInfo",data:{userId:t,userType:n,userName:this.userName,sex:this.sexValue,birthDay:this.birthday,address:this.address,nickName:this.nickName}}).then(function(e){layer.msg(e.data.message)}).catch(function(e){console.log(e)})},signOut:function(){$(window).storager({key:"feUid"}).removeStorage(),$(window).storager({key:"feUNickName"}).removeStorage(),$(window).storager({key:"feUIcon"}).removeStorage(),$(window).storager({key:"feUName"}).removeStorage(),$(window).storager({key:"feCommunityUid"}).removeStorage(),$(window).storager({key:"feUType"}).removeStorage(),layer.msg("退出成功!"),setTimeout(function(){goBack()},2e3)},onValuesChange:function(e,t){e.setSlotValues(1,t[0].children),this.tempSchoolArr=e.getValues(),this.tempCityIndex=this.tempSchoolArr[0].cityId,this.tempSchoolId=this.tempSchoolArr[1].organId},onValuesChangeGrade:function(e,t){this.tempGradeArr=e.getValues(),void 0!==this.tempGradeArr[0]&&(this.tempGradeIndex=this.tempGradeArr[0].gradeId)},onValuesChangeClass:function(e,t){this.tempClassArr=e.getValues(),console.log(this.tempClassArr[0]),void 0!=_typeof(this.tempClassArr[0])&&void 0!==this.tempClassArr[0]&&(this.tempClassIndex=this.tempClassArr[0].classId)},saveSchool:function(){var e=this;axios({method:"post",url:"Grade.ashx?action=getGradeListByOrganId",data:{organId:e.tempSchoolId}}).then(function(t){e.slotsGrade[0].values=t.data.rows,e.gradeId=e.slotsGrade[0].values[0].gradeId}).then(function(){axios({method:"post",url:"Class.ashx?action=getClassListByOrganId",data:{organId:e.tempSchoolId}}).then(function(t){e.slotsClass[0].values=t.data.rows,void 0!==t.data.rows[0]?e.classId=t.data.rows[0].classId:e.classId=""}).then(function(){setTimeout(function(){axios({method:"post",url:"User.ashx?action=updateSchoolInfo",data:{userId:t,userType:n,organId:e.tempSchoolId,gradeId:e.gradeId,classId:e.classId}}).then(function(t){e.closeMask(),e.schoolId=e.tempSchoolId,e.userInf[0].organName=e.tempSchoolArr[1].organName,e.userInf[0].gradeName=e.tempGradeArr[0].gradeName,void 0!==e.tempClassArr[0]?e.userInf[0].className=e.tempClassArr[0].className:e.userInf[0].className="",layer.msg(t.data.message)}).catch(function(e){console.log(e)})},500)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},saveGrade:function(){var e=this;axios({method:"post",url:"Class.ashx?action=getClassListByOrganId",data:{organId:e.schoolId}}).then(function(t){void 0!==t.data.rows[0]?e.classId=t.data.rows[0].classId:e.classId=""}).then(function(){setTimeout(function(){axios({method:"post",url:"User.ashx?action=updateSchoolInfo",data:{userId:t,userType:n,organId:e.schoolId,gradeId:e.tempGradeIndex,classId:e.classId}}).then(function(t){e.closeMask(),e.gradeId=e.tempGradeIndex,e.userInf[0].gradeName=e.tempGradeArr[0].gradeName,layer.msg(t.data.message)}).catch(function(e){console.log(e)})},500)}).catch(function(e){console.log(e)})},saveClass:function(){var e=this;axios({method:"post",url:"User.ashx?action=updateSchoolInfo",data:{userId:t,userType:n,organId:e.schoolId,gradeId:e.gradeId,classId:e.tempClassIndex}}).then(function(t){e.closeMask(),e.classId=e.tempClassIndex,e.userInf[0].className=e.tempClassArr[0].className,layer.msg(t.data.message)}).catch(function(e){console.log(e)})},closeMask:function(){this.isMask=!1,this.isModifyName=!1,this.isModifySex=!1,this.isModifyAddress=!1,this.isModifySchool=!1,this.isModifyGrade=!1,this.isModifyClass=!1}}})}).catch(function(e){console.log(e)})}function dmApp(){var e=varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),t=varEmptyDeal($(window).storager({key:"feUType"}).readStorage());new Vue({el:"#jDMApp",data:{dmArr:[],currentIndex:0,allLoaded:!1,bottomStatus:"",bottomText:"释放更新",pageIndex:1,pageSize:6,allTotalPage:0,tempDMArr:[],selectAllFlag:!1,selectCount:0,selectSourceArr:[],selectIdArr:[],initEmpty:!1},filters:{},mounted:function(){this.$nextTick(function(){this.initDate(1)})},methods:{initDate:function(n){var s=this;axios({method:"post",url:"ResourceDownload.ashx?action=getResourceDownload",data:{userId:e,userType:t,title:"",source:"",pageIndex:s.pageIndex,pageSize:s.pageSize}}).then(function(e){s.tempDMArr=e.data.rows,1==n&&0==s.tempDMArr.length&&(s.initEmpty=!0),s.tempDMArr.forEach(function(e,t){Vue.set(e,"checked",!1),Vue.set(e,"resourcePath",SERVERROOTFILE+e.resourcePath)}),s.allTotalPage=e.data.totalPageCount,s.dmArr=s.dmArr.concat(s.tempDMArr)}).then(function(){s.singleSelect()}).catch(function(e){console.log(e)})},singleSelect:function(){var e=this,t=e.dmArr.length;e.selectCount=0,e.selectSourceArr=[],e.selectIdArr=[],setTimeout(function(){e.dmArr.forEach(function(n,s){n.checked?(e.selectCount++,e.selectSourceArr.push(n.resourcePath),e.selectIdArr.push(n.resourceDownLoadId),t==e.selectCount&&(e.selectAllFlag=!0)):e.selectAllFlag=!1})},300)},deleteSelect:function(){var e=this,t="";if(0!=e.selectSourceArr.length){confirm("你确定要删除吗?")&&(t=e.selectIdArr.toString(),axios({method:"post",url:"ResourceDownload.ashx?action=batchDeleteResourceDownload",data:{resourceDownloadIds:t}}).then(function(e){layer.msg(e.data.message)}).catch(function(e){console.log(e)}),e.selectIdArr.forEach(function(t,n){e.dmArr.forEach(function(n,s){t==n.resourceDownLoadId&&e.dmArr.splice(s,1)})}))}else layer.msg("暂未选中要删除的资源记录!")},allSelect:function(){var e=this;setTimeout(function(){e.selectAllFlag?e.dmArr.forEach(function(e,t){e.checked=!0}):e.dmArr.forEach(function(e,t){e.checked=!1}),e.singleSelect()},300)},downloadSelect:function(){0!=this.selectSourceArr.length?this.selectSourceArr.forEach(function(e,t){window.open(e)}):layer.msg("暂未选中要下载的资源,试试点击想要下载的元素!")},loadBottom:function(){this.allTotalPage>=this.pageIndex?(this.pageIndex++,this.initDate(),this.bottomText="释放更新!"):this.bottomText="我是有底线的!";var e=this;setTimeout(function(){e.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(e){this.bottomStatus=e}}})}function htApp(){new Vue({el:"#jHTApp",data:{newsBannerArr:[],newsTypeArr:[],newsListItem:[],currentNewsTypeId:"",currentIndex:0,newsListArr:[],newsListStatusArr:[],allLoaded:!1,bottomStatus:"",newsListSwiper:{},bottomText:"释放更新"},filters:{addImagePre:function(e){return SERVERROOTFILE+e},addNewsHrefPre:function(e){return ROOT+"dist/newsdetail.html?newsId="+e}},mounted:function(){this.$nextTick(function(){this.newTypeData()})},methods:{newTypeData:function(){var e=this;axios({method:"post",url:"NewsType.ashx?action=getEducationNewsType",data:{organId:TempOrgId,pageSize:30}}).then(function(t){e.newsTypeArr=t.data.rows,e.newsListItem=e.newsTypeArr.length,e.currentNewsTypeId=e.newsTypeArr[0].newsTypeId;for(var n=0;n<=e.newsListItem;n++)e.newsListArr.push([]),e.newsListStatusArr.push({pageIndex:1,pageSize:4,hadInit:!1,totalPageCount:1})}).then(function(){$(".feHTTypeListContainer .swiper-slide").eq(0).addClass("active-nav"),e.getListData(),e.newsList()}).catch(function(e){console.log(e)})},changeSlide:function(e,t){this.currentNewsTypeId=e,this.currentIndex=t,this.newsListStatusArr[this.currentIndex].hadInit||(this.newsListStatusArr[this.currentIndex].hadInit=!0,this.getListData())},getListData:function(){var e=this;axios({method:"post",url:"News.ashx?action=getNewsByType",data:{organId:TempOrgId,newsTypeId:e.currentNewsTypeId,pageIndex:e.newsListStatusArr[e.currentIndex].pageIndex,pageSize:e.newsListStatusArr[e.currentIndex].pageSize}}).then(function(t){var n=t.data.rows;e.newsListStatusArr[e.currentIndex].hadInit||(e.newsListStatusArr[e.currentIndex].hadInit=!0,e.newsListStatusArr[e.currentIndex].totalPageCount=t.data.totalPageCount),n.forEach(function(t,n){Vue.set(t,"iconPath",SERVERROOTFILE+t.iconPath),e.newsListArr[e.currentIndex].push(t)})}).then(function(){e.newsListSwiper.update()}).catch(function(e){console.log(e)})},newsList:function(){var e=this,t=new Swiper(".feHTListContainer",{on:{slideChange:function(){!function(){var s,o;if(o=t.activeIndex,$(".feHTTypeListContainer .active-nav").removeClass("active-nav"),s=$(".feHTTypeListContainer .swiper-slide").eq(o).addClass("active-nav"),e.currentNewsTypeId=s.attr("data-typeid"),e.changeSlide(e.currentNewsTypeId,o),!s.hasClass("swiper-slide-visible"))if(s.index()>n.activeIndex){var a=Math.floor(n.width/s.width())-1;n.slideTo(s.index()-a)}else n.slideTo(s.index())}()}},spaceBetween:34,autoHeight:!0});this.newsListSwiper=t;var n=new Swiper(".feHTTypeListContainer",{visibilityFullFit:!0,slidesPerView:"auto",on:{click:function(){t.slideTo(n.clickedIndex)}}})},loadBottom:function(){void 0!==this.newsListStatusArr[this.currentIndex]&&(this.newsListStatusArr[this.currentIndex].pageIndex<=this.newsListStatusArr[this.currentIndex].totalPageCount?(this.bottomText="释放更新!",this.newsListStatusArr[this.currentIndex].pageIndex=this.newsListStatusArr[this.currentIndex].pageIndex+1,this.getListData()):this.bottomText="我是有底线的!");var e=this;setTimeout(function(){e.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(e){this.bottomStatus=e}}})}function commentApp(e,t){var n=varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),s=varEmptyDeal($(window).storager({key:"feUType"}).readStorage());new Vue({el:"#jcommentApp",data:{courseArr:[],starScore:0,commentContent:"",starArr:[{full:!1,half:!1},{full:!1,half:!1},{full:!1,half:!1},{full:!1,half:!1},{full:!1,half:!1}],allWordTips:80,currentWordTips:0,scaleNum:1,rotateNum:0,isThumFalse:!1,picArr:[],firstFlag:!0,filearr:[],publishCount:0},filters:{},mounted:function(){this.$nextTick(function(){this.getCourseData(),this.initThumImg()})},methods:{getCourseData:function(){var n=this;axios({method:"post",url:"Course.ashx?action=getAppCourseRelateInfo",data:{courseId:e,courseKind:t}}).then(function(e){n.courseArr=e.data.rows}).catch(function(e){console.log(e)})},showStar:function(e,t){var n=this;n.starArr.forEach(function(e,t){e.full=!1,e.half=!1}),n.starArr.forEach(function(s,o){e==o&&n.starArr.forEach(function(n,s){e>s?n.full=!0:e==s&&(t%2==1?n.half=!0:n.full=!0)})}),n.starScore=t},inputText:function(){this.currentWordTips=this.commentContent.length,this.currentWordTips>=this.allWordTips&&(this.commentContent=this.commentContent.substring(0,this.allWordTips),this.currentWordTips=this.commentContent.length)},publishComment:function(){if(this.commentContent.length<10)return layer.msg("评论内容不能少于10个字符"),!1;this.update()},thumImg:function(e){$("#jThumImg").attr("src",e),this.isThumFalse=!0},closeThum:function(){this.isThumFalse=!1},initThumImg:function(e){var t=this;new AlloyFinger(document.getElementById("jThumImg"),{pointStart:function(){},multipointStart:function(){},rotate:function(e){},pinch:function(e){t.scaleNum=e.zoom,$("#jThumImg").css({transform:"translate(-50%,-50%) scale("+t.scaleNum+")  rotate("+t.rotateNum+"deg)"})},multipointEnd:function(){},pressMove:function(e){console.log(e.deltaX),console.log(e.deltaY)},tap:function(e){},doubleTap:function(e){},longTap:function(e){},swipe:function(e){console.log("swipe"+e.direction)},singleTap:function(e){}})},update:function(){var o=new FormData($("#feIconForm")[0]);o.append("userId",n),o.append("userType",s),o.append("courseId",e),o.append("courseKind",t),o.append("score",this.starScore),o.append("levelOneEvaluationId",0),o.append("parentId",0),o.append("evaluation",this.commentContent);for(var a=0;a<this.filearr.length;a++)o.append("photos",this.filearr[a]);$.ajax({url:SERVERROOTDATA+"CourseEvaluation.ashx?action=appCourseEvaluation",type:"POST",data:o,dataType:"json",processData:!1,contentType:!1,success:function(e){layer.msg("评论成功!"),setTimeout(function(){window.location.href="tobecomment.html"},1200)}})},pushPic:function(e){var t=this,n=0,s=e.target.files||e.dataTransfer.files,o=t.filearr.length;s.length;t.createImage(s);for(var a=0;a<s.length;a++){if(t.publishCount++,t.publishCount>3){layer.msg("最多上传3张照片!");break}if(s[a].size>2097152){layer.msg("请勿上传大于2MB的图片!");break}for(t.filearr.push(s[a]),n=0;n<o;n++)if(t.filearr[n].name==s[a].name&&t.filearr[n].size==s[a].size){layer.msg("请勿重复上传相同的图片!"),setTimeout(function(){t.picArr.splice(-a,1),t.filearr.splice(-a,1)},300);break}}},deletePic:function(e){var t=this;t.picArr.forEach(function(n,s){e==s&&(t.picArr.splice(s,1),t.filearr.splice(s,1),t.publishCount--)})},createImage:function(e){if("undefined"==typeof FileReader)return layer.msg("您的浏览器不支持图片上传，请升级您的浏览器"),!1;for(var t=this,n=e.length,s=0;s<n&&!(e[s].size>2097152);s++){var o=new FileReader;o.readAsDataURL(e[s]),o.onload=function(e){t.publishCount<4&&(t.picArr.push(e.target.result),t.publishCount=t.picArr.length)}}}}})}function helpApp(){var e=varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),t=varEmptyDeal($(window).storager({key:"feUType"}).readStorage());new Vue({el:"#jHelpApp",data:{currentCharCount:0,content:"",concat:""},filters:{},mounted:function(){this.$nextTick(function(){})},methods:{inputText:function(){this.currentCharCount=this.content.length,this.currentCharCount>=200&&(this.content=this.content.substring(0,200),this.currentCharCount=this.content.length)},concatTips:function(){return this.concat.length>13?(layer.msg("超出字符长度,请输入正确的手机或QQ号"),this.concat=this.concat.substring(0,12),!1):!ruleCheck(CHECKRULEARR[3],this.concat,PROMPTARR[11])&&void 0},submitHelp:function(){axios({method:"post",url:"User.ashx?action=userFeedBack",data:{userId:e,userType:t,opinion:this.content,contact:this.concat}}).then(function(e){layer.msg(e.data.message),200==e.data.code&&setTimeout(function(){window.location.href="../member.html"},1200)}).catch(function(e){console.log(e)})}}})}function collectionApp(e){var t=varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),n=varEmptyDeal($(window).storager({key:"feUType"}).readStorage());new Vue({el:"#jCollectionApp",data:{collectionTypeArr:["课程收藏","老师关注"],collectionListCount:[],currentCollectionTypeId:"",currentIndex:0,collectionListArr:[],collectionListStatusArr:[],collectionListSwiper:{},allLoaded:!1,bottomStatus:"",bottomText:"释放更新",courseLen:0,teacherLen:0},filters:{addImagePre:function(e){return SERVERROOTFILE+e},addCourseHrefPre:function(e,t){return ROOT+"./dist/coursedetail.html?courseId="+e+"&courseKind="+t},addTeacherHrefPre:function(e){return ROOT+"./teachercenter.html?tId="+e}},mounted:function(){this.$nextTick(function(){this.collectionTypeData(e),this.currentIndex=e})},methods:{collectionTypeData:function(e){this.collectionListCount=this.collectionTypeArr.length,$(".feCollectionTypeListContainer .swiper-slide").eq(e).addClass("active-nav");for(var t=0;t<this.collectionListCount;t++)this.collectionListArr.push([]),this.collectionListStatusArr.push({pageIndex:1,pageSize:4,hadInit:!1,totalPageCount:1});this.initListSwiper(),this.getListData(e)},changeSlide:function(e){this.currentIndex=e,this.collectionListStatusArr[this.currentIndex].hadInit||(this.collectionListStatusArr[this.currentIndex].hadInit=!0,this.getListData(e))},getListData:function(e){var s=this;0==e?axios({method:"post",url:"Course.ashx?action=getUserCollectCourse",data:{userId:t,userType:n,recordType:"",pageIndex:s.collectionListStatusArr[s.currentIndex].pageIndex,pageSize:s.collectionListStatusArr[s.currentIndex].pageSize}}).then(function(e){var t=e.data.rows;s.collectionListStatusArr[s.currentIndex].hadInit||(s.collectionListStatusArr[s.currentIndex].hadInit=!0,s.collectionListStatusArr[s.currentIndex].totalPageCount=e.data.totalPageCount),t.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath),s.collectionListArr[s.currentIndex].push(e)})}).then(function(){s.courseLen=s.collectionListArr[s.currentIndex].length}).then(function(){s.collectionListSwiper.update()}).catch(function(e){console.log(e)}):1==e&&axios({method:"post",url:"Teacher.ashx?action=getUserFocusTeacherList",data:{userId:t,userType:n,pageIndex:s.collectionListStatusArr[s.currentIndex].pageIndex,pageSize:s.collectionListStatusArr[s.currentIndex].pageSize}}).then(function(e){var t=e.data.rows;s.collectionListStatusArr[s.currentIndex].hadInit||(s.collectionListStatusArr[s.currentIndex].hadInit=!0,s.collectionListStatusArr[s.currentIndex].totalPageCount=e.data.totalPageCount),t.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath),Vue.set(e,"hide",!1),s.collectionListArr[s.currentIndex].push(e)})}).then(function(){s.teacherLen=s.collectionListArr[s.currentIndex].length}).then(function(){s.collectionListSwiper.update()}).catch(function(e){console.log(e)})},cancelCourseCollection:function(e,s){var o=this;axios({method:"post",url:"Course.ashx?action=courseCollect",data:{userId:t,userType:n,courseCollectionId:"",recordType:"",courseId:e,courseKind:s,cancel:1}}).then(function(t){layer.msg(t.data.message);for(var n=o.collectionListArr[0].length,s=0;s<n;s++)e==o.collectionListArr[0][s].courseId&&o.collectionListArr[0].splice(s,1)}).then(function(){o.courseLen=o.collectionListArr[0].length}).catch(function(e){console.log(e)})},cancelTeacherCollection:function(e){var s=this;axios({method:"post",url:"PayAttention.ashx?action=cancelPayAttention",data:{userId:t,userType:n,attentedId:e,attentedType:1}}).then(function(t){layer.msg(t.data.message);for(var n=s.collectionListArr[1].length,o=0;o<n;o++)e==s.collectionListArr[1][o].teacherId&&(s.collectionListArr[1].splice(o,1),s.collectionListSwiper.update())}).then(function(){s.teacherLen=s.collectionListArr[1].length}).catch(function(e){console.log(e)})},gotoCourse:function(e,t){location.href=ROOT+"./dist/coursedetail.html?courseId="+e+"&courseKind="+t},initListSwiper:function(){var e=this,t=new Swiper(".feCollectionListContainer",{on:{slideChange:function(){!function(){var s,o;if(o=t.activeIndex,$(".feCollectionTypeListContainer .active-nav").removeClass("active-nav"),s=$(".feCollectionTypeListContainer .swiper-slide").eq(o).addClass("active-nav"),e.currentCollectionTypeId=s.attr("data-typeid"),e.changeSlide(e.currentCollectionTypeId,o),!s.hasClass("swiper-slide-visible"))if(s.index()>n.activeIndex){var a=Math.floor(n.width/s.width())-1;n.slideTo(s.index()-a)}else n.slideTo(s.index())}()}},spaceBetween:34,autoHeight:!0});this.collectionListSwiper=t;var n=new Swiper(".feCollectionTypeListContainer",{visibilityFullFit:!0,slidesPerView:"auto",on:{click:function(){t.slideTo(n.clickedIndex)}}})},loadBottom:function(){void 0!==this.collectionListStatusArr[this.currentIndex]&&(this.collectionListStatusArr[this.currentIndex].pageIndex<=this.collectionListStatusArr[this.currentIndex].totalPageCount?(this.bottomText="释放更新!",this.collectionListStatusArr[this.currentIndex].pageIndex=this.collectionListStatusArr[this.currentIndex].pageIndex+1,this.getListData(this.currentIndex)):this.bottomText="我是有底线的!");var e=this;setTimeout(function(){e.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(e){this.bottomStatus=e}}})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
"use strict";function activeApp(){new Vue({el:"#jActiveApp",data:{newsBannerArr:[],newsTypeArr:[],newsListItem:[],currentNewsTypeId:"",currentIndex:0,newsListArr:[],newsListStatusArr:[],allLoaded:!1,bottomStatus:"",newsListSwiper:{},bottomText:"释放更新"},filters:{addImagePre:function(t){return SERVERROOTFILE+t},addActiveHrefPre:function(t){return ROOT+"dist/activedetail.html?activeId="+t}},mounted:function(){this.$nextTick(function(){this.newTypeData()})},methods:{newTypeData:function(){var t=this;axios({method:"post",url:"ActivityType.ashx?action=getOrganActivityType",data:{organId:TempOrgId}}).then(function(e){t.newsTypeArr=e.data.rows,t.newsListItem=t.newsTypeArr.length,t.currentNewsTypeId=t.newsTypeArr[0].activityTypeId;for(var a=0;a<t.newsListItem;a++)t.newsListArr.push([]),t.newsListStatusArr.push({pageIndex:1,pageSize:3,hadInit:!1,totalPageCount:1})}).then(function(){$(".feNewsTypeListContainer .swiper-slide").eq(0).addClass("active-nav"),t.getListData(),t.newsList()}).catch(function(t){console.log(t)})},changeSlide:function(t,e){this.currentNewsTypeId=t,this.currentIndex=e,this.newsListStatusArr[this.currentIndex].hadInit||(this.newsListStatusArr[this.currentIndex].hadInit=!0,this.getListData())},getListData:function(){var t=this;axios({method:"post",url:"Activity.ashx?action=getAppActivityByType",data:{organId:TempOrgId,activityTypeId:t.currentNewsTypeId,pageIndex:t.newsListStatusArr[t.currentIndex].pageIndex,pageSize:t.newsListStatusArr[t.currentIndex].pageSize}}).then(function(e){var a=e.data.rows;t.newsListStatusArr[t.currentIndex].hadInit||(t.newsListStatusArr[t.currentIndex].hadInit=!0,t.newsListStatusArr[t.currentIndex].totalPageCount=e.data.totalPageCount),a.forEach(function(e,a){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath),t.newsListArr[t.currentIndex].push(e)})}).then(function(){t.newsListSwiper.update()}).catch(function(t){console.log(t)})},newsList:function(){var t=this,e=new Swiper(".feNewsListContainer",{on:{slideChange:function(){!function(){var i,n;if(n=e.activeIndex,$(".feNewsTypeListContainer .active-nav").removeClass("active-nav"),i=$(".feNewsTypeListContainer .swiper-slide").eq(n).addClass("active-nav"),t.currentNewsTypeId=i.attr("data-typeid"),t.changeSlide(t.currentNewsTypeId,n),!i.hasClass("swiper-slide-visible"))if(i.index()>a.activeIndex){var o=Math.floor(a.width/i.width())-1;a.slideTo(i.index()-o)}else a.slideTo(i.index())}()}},spaceBetween:34,autoHeight:!0});this.newsListSwiper=e;var a=new Swiper(".feNewsTypeListContainer",{visibilityFullFit:!0,slidesPerView:"auto",on:{click:function(){e.slideTo(a.clickedIndex)}}})},loadBottom:function(){void 0!==this.newsListStatusArr[this.currentIndex]&&(this.newsListStatusArr[this.currentIndex].pageIndex<=this.newsListStatusArr[this.currentIndex].totalPageCount?(this.bottomText="释放更新!",this.newsListStatusArr[this.currentIndex].pageIndex=this.newsListStatusArr[this.currentIndex].pageIndex+1,this.getListData()):this.bottomText="我是有底线的!");var t=this;setTimeout(function(){t.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(t){this.bottomStatus=t}}})}function activeDetailApp(t){new Vue({el:"#jActiveDetailApp",data:{activeDetailArr:[],relateArr:[],tempRelateArr:[],relateIndex:1,relateSize:3,relatePageCount:0,cover:"",playauth:"",evaluationArr:[],tempEvaluationArr:[],evaluationIndex:1,evaluationSize:3,evaluationPageCount:0,evaluationText:"",allLoaded:!1,bottomStatus:"",bottomText:"释放更新",evaluationFlag:!1,hasPraised:0,saveTag:"add",thumbUpCount:0,lookMoreLabel:"查看更多"},filters:{addActiveHrefPre:function(t){return ROOT+"dist/activedetail.html?activeId="+t}},mounted:function(){this.$nextTick(function(){this.getActiveDetail(),this.relateVideo(),this.getEvaluation()})},methods:{getActiveDetail:function(){var e=this;axios({method:"post",url:"Activity.ashx?action=getActivityVideoDetailById",data:{activityId:t,userId:varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),userType:varEmptyDeal($(window).storager({key:"feUType"}).readStorage())}}).then(function(t){e.activeDetailArr=t.data.rows,$(".feTitle").text(e.activeDetailArr[0].title),e.cover=SERVERROOTFILE+e.activeDetailArr[0].iconPath,e.hasPraised=e.activeDetailArr[0].hasPraised,e.thumbUpCount=e.activeDetailArr[0].thumbUpCount,e.getPlayauth(e.activeDetailArr[0].videoId),e.updateActiveReadCount()}).catch(function(t){console.log(t)})},setPraise:function(){var e=this;if(!checkLogined())return layer.confirm("游客用户请先登录!",{btn:["登录","取消"]},function(){location.href="../login.html"}),!1;0==e.hasPraised?e.saveTag="add":e.saveTag="delete",axios({method:"post",url:"ActivityEvaluation.ashx?action=activityThumbUp",data:{activityId:t,userId:varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),userType:varEmptyDeal($(window).storager({key:"feUType"}).readStorage()),saveTag:e.saveTag}}).then(function(t){layer.msg(t.data.message),e.hasPraised=t.data.rows[0].hasPraised,e.thumbUpCount=t.data.rows[0].thumbUpCount}).catch(function(t){console.log(t)})},getPlayauth:function(t){var e=this;axios({method:"post",url:"CourseCatalog.ashx?action=getAppPlayUrlByVideoId",data:{videoid:t}}).then(function(a){e.playauth=a.data.rows[0].playAuth,e.loadPlayer(e.playauth,t)}).catch(function(t){console.log(t)})},loadPlayer:function(t,e){new Aliplayer({id:"jActivePlayer",playsinline:!0,width:"100%",height:"4.18rem",autoplay:!0,vid:e,playauth:t,cover:this.cover,skinLayout:[{name:"bigPlayButton",align:"cc"},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay",align:"cc"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:10},{name:"volume",align:"tr",x:10,y:10},{name:"streamButton",align:"tr",x:0,y:10},{name:"speedButton",align:"tr",x:0,y:10}]}]})},updateActiveReadCount:function(){axios({method:"post",url:"ActivityEvaluation.ashx?action=updateActivityClickCount",data:{activityId:t}}).then(function(t){}).catch(function(t){console.log(t)})},relateVideo:function(){var e=this;axios({method:"post",url:"Activity.ashx?action=getRelativeActivityById",data:{activityId:t,pageIndex:e.relateIndex,pageSize:e.relateSize}}).then(function(t){e.relatePageCount=t.data.totalPageCount,e.relatePageCount=t.data.totalPageCount,e.relatePageCount<e.relateIndex&&(e.lookMoreLabel="见底了！"),e.tempRelateArr=t.data.rows,e.tempRelateArr.forEach(function(t,e){Vue.set(t,"iconPath",SERVERROOTFILE+t.iconPath)}),e.relateArr=e.relateArr.concat(e.tempRelateArr)}).catch(function(t){console.log(t)})},loadMoreRelate:function(){this.relatePageCount>=this.relateIndex&&(this.relateIndex++,this.relateVideo())},getEvaluation:function(){var e=this;axios({method:"post",url:"ActivityEvaluation.ashx?action=getEvaluation",data:{activityId:t,pageIndex:e.evaluationIndex,pageSize:e.evaluationSize}}).then(function(t){e.evaluationPageCount=t.data.totalPageCount,e.tempEvaluationArr=t.data.rows,e.tempEvaluationArr.forEach(function(t,e){Vue.set(t,"iconPath",SERVERROOTFILE+t.iconPath)}),e.evaluationArr=e.evaluationArr.concat(e.tempEvaluationArr)}).catch(function(t){console.log(t)})},addEvaluation:function(){var e=this;if(!checkLogined())return layer.confirm("游客用户请先登录!",{btn:["登录","取消"]},function(){location.href="../login.html"},function(){e.closeEvalation()}),!1;axios({method:"post",url:"ActivityEvaluation.ashx?action=evaluation",data:{activityId:t,valuatorId:varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),userType:varEmptyDeal($(window).storager({key:"feUType"}).readStorage()),evaluation:e.evaluationText}}).then(function(t){layer.msg(t.data.message),e.evaluationText="",e.evaluationArr=[],e.evaluationIndex=1,e.getEvaluation(),e.closeEvalation()}).catch(function(t){console.log(t)})},loadBottom:function(){var t=this;t.evaluationPageCount>=t.evaluationIndex?(this.bottomText="释放更新!",t.evaluationIndex++,t.getEvaluation()):this.bottomText="我是有底线的!",setTimeout(function(){t.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(t){this.bottomStatus=t},openEvalation:function(){this.evaluationFlag=!0},closeEvalation:function(){this.evaluationFlag=!1}}})}
"use strict";function indexApp(){new Vue({el:"#jIndexApp",data:{bannerArr:[],schoolBannerArr:[],hotBannerArr:[],videoNewsArr:[],liveArr:[],recommendCourseArr:[],onlineTeacherArr:[],loading:!1},filters:{addImagePre:function(e){return SERVERROOTFILE+e},addNewsHrefPre:function(e){return ROOT+"dist/newsdetail.html?newsId="+e},addFreshHrefPre:function(e){return ROOT+"dist/mediadetail.html?mId="+e},addLiveHrefPre:function(e){return ROOT+"dist/newsdetail.html?liveId="+e},addCoureHrefPre:function(e,n){return ROOT+"dist/coursedetail.html?courseId="+e+"&courseKind="+n},addTeacherHrefPre:function(e){return ROOT+"dist/teachercenter.html?tId="+e},gotoSchool:function(e){return ROOT+"dist/schoolcenter.html?schoolId="+e}},mounted:function(){this.$nextTick(function(){this.getBannerAndHotNews(),this.getLiveProgram(),this.getRecommedCourse(),this.getTeacherOnline(),this.getSchoolBanner()})},methods:{getBannerAndHotNews:function(){var e=this;axios({method:"get",url:"HomePage.ashx?action=getBannerAndHotNews",data:{}}).then(function(n){e.bannerArr=n.data.banner,e.hotBannerArr=n.data.headline,e.videoNewsArr=n.data.microVideo,e.bannerArr.forEach(function(e,n){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)}),e.videoNewsArr.forEach(function(e,n){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)})}).then(function(){e.indexBanner(),e.indexBannerNews()}).catch(function(e){console.log(e)})},indexBanner:function(){new Swiper(".feBannerContainer",{pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:3e3}})},indexBannerNews:function(){new Swiper(".feBannerNewsContainer",{autoplay:{delay:3e3},slidesPerView:2,loop:!0,direction:"vertical"})},getSchoolBanner:function(){var e=this;axios({method:"get",url:"Organ.ashx?action=getAppSchoolList",data:{pageIndex:1,pageSize:9}}).then(function(n){e.schoolBannerArr=n.data.rows,e.schoolBannerArr.forEach(function(e,n){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)})}).then(function(){e.schoolBanner()}).catch(function(e){console.log(e)})},schoolBanner:function(){new Swiper(".feSchoolContainer",{slidesPerView:3,spaceBetween:6,loopFillGroupWithBlank:!0})},getLiveProgram:function(){var e=this;axios({method:"post",url:"HomePage.ashx?action=getLiveProgram",data:{pageIndex:1,pageSize:1}}).then(function(n){e.liveArr=n.data.rows,e.liveArr.forEach(function(e,n){""==e.iconPath?Vue.set(e,"iconPath",ROOT+"images/temp/live.png"):Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)})}).catch(function(e){console.log(e)})},getRecommedCourse:function(){var e=this;axios({method:"post",url:"HomePage.ashx?action=getRecommendCourse",data:{pageIndex:1,pageSize:4}}).then(function(n){e.recommendCourseArr=n.data.rows,e.recommendCourseArr.forEach(function(e,n){Vue.set(e,"iconPath",SERVERROOTFILE+e.mobileIconPath),Vue.set(e,"starCount",Math.floor(e.starCount/2)),e.starCount%2==1&&Vue.set(e,"starHalf",!0)})}).catch(function(e){console.log(e)})},getTeacherOnline:function(){var e=this;e.loading=!0,axios({method:"post",url:"HomePage.ashx?action=getRandomRecommendTeacher",data:{pageSize:4}}).then(function(n){e.onlineTeacherArr=n.data.rows,e.onlineTeacherArr.forEach(function(e,n){Vue.set(e,"iconPath",SERVERROOTFILE+e.mobileIconPath)}),e.loading=!1}).catch(function(n){console.log(n),e.loading=!1})},changeTeacher:function(){this.getTeacherOnline()}}})}
"use strict";function liveListApp(t){var e=varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),i=varEmptyDeal($(window).storager({key:"feUType"}).readStorage());new Vue({el:"#jLiveListApp",data:{liveListTypeArr:["正在直播","即将直播"],liveListCount:[],currentLiveTypeId:"",currentIndex:0,liveListArr:[],liveListStatusArr:[],liveListSwiper:{},allLoaded:!1,bottomStatus:"",bottomText:"释放更新",livingLen:0,onLiveLen:0},filters:{addImagePre:function(t){return SERVERROOTFILE+t}},mounted:function(){this.$nextTick(function(){this.liveTypeData(t),this.currentIndex=t})},methods:{liveTypeData:function(t){this.liveListCount=this.liveListTypeArr.length,$(".feLiveTypeListContainer .swiper-slide").eq(t).addClass("active-nav");for(var e=0;e<this.liveListCount;e++)this.liveListArr.push([]),this.liveListStatusArr.push({pageIndex:1,pageSize:4,hadInit:!1,totalPageCount:1});this.initListSwiper(),this.getListData(t)},changeSlide:function(t){this.currentIndex=t,this.liveListStatusArr[this.currentIndex].hadInit||(this.liveListStatusArr[this.currentIndex].hadInit=!0,this.getListData(t))},getListData:function(t){var n=this;0==t?axios({method:"post",url:"Course.ashx?action=getAppCurrLiveCourse",data:{userId:e,userType:i,pageIndex:n.liveListStatusArr[n.currentIndex].pageIndex,pageSize:n.liveListStatusArr[n.currentIndex].pageSize}}).then(function(t){var e=t.data.rows;n.liveListStatusArr[n.currentIndex].hadInit||(n.liveListStatusArr[n.currentIndex].hadInit=!0,n.liveListStatusArr[n.currentIndex].totalPageCount=t.data.totalPageCount),e.forEach(function(t,e){Vue.set(t,"iconPath",SERVERROOTFILE+t.iconPath),n.liveListArr[n.currentIndex].push(t)})}).then(function(){n.livingLen=n.liveListArr[n.currentIndex].length}).then(function(){n.liveListSwiper.update()}).catch(function(t){console.log(t)}):1==t&&axios({method:"post",url:"Course.ashx?action=getAppAboutToLiveCourse",data:{userId:e,userType:i,pageIndex:n.liveListStatusArr[n.currentIndex].pageIndex,pageSize:n.liveListStatusArr[n.currentIndex].pageSize}}).then(function(t){var e=t.data.rows;n.liveListStatusArr[n.currentIndex].hadInit||(n.liveListStatusArr[n.currentIndex].hadInit=!0,n.liveListStatusArr[n.currentIndex].totalPageCount=t.data.totalPageCount),e.forEach(function(t,e){Vue.set(t,"iconPath",SERVERROOTFILE+t.iconPath),Vue.set(t,"hide",!1),n.liveListArr[n.currentIndex].push(t)})}).then(function(){n.onLiveLen=n.liveListArr[n.currentIndex].length}).then(function(){n.liveListSwiper.update()}).catch(function(t){console.log(t)})},gotoLive:function(t,e,i){location.href=ROOT+"./dist/liveplayer.html?cpId="+t+"&courseKind="+e+"&channelProgramId="+i},initListSwiper:function(){var t=this,e=new Swiper(".feLiveListContainer",{on:{slideChange:function(){!function(){var n,r;if(r=e.activeIndex,$(".feLiveTypeListContainer .active-nav").removeClass("active-nav"),n=$(".feLiveTypeListContainer .swiper-slide").eq(r).addClass("active-nav"),t.currentLiveTypeId=n.attr("data-typeid"),t.changeSlide(t.currentLiveTypeId,r),!n.hasClass("swiper-slide-visible"))if(n.index()>i.activeIndex){var s=Math.floor(i.width/n.width())-1;i.slideTo(n.index()-s)}else i.slideTo(n.index())}()}},spaceBetween:34,autoHeight:!0});this.liveListSwiper=e;var i=new Swiper(".feLiveTypeListContainer",{visibilityFullFit:!0,slidesPerView:"auto",on:{click:function(){e.slideTo(i.clickedIndex)}}})},loadBottom:function(){void 0!==this.liveListStatusArr[this.currentIndex]&&(this.liveListStatusArr[this.currentIndex].pageIndex<=this.liveListStatusArr[this.currentIndex].totalPageCount?(this.bottomText="释放更新!",this.liveListStatusArr[this.currentIndex].pageIndex=this.liveListStatusArr[this.currentIndex].pageIndex+1,this.getListData(this.currentIndex)):this.bottomText="我是有底线的!");var t=this;setTimeout(function(){t.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(t){this.bottomStatus=t}}})}
"use strict";function getLiveChatInf(t,e,n,s){console.log(s);var o=[];axios({method:"post",url:"User.ashx?action=getAppUserInfo",data:{userId:t,userType:e}}).then(function(t){o=t.data.rows}).then(function(){void 0!=o[0]?chatApp(o[0].userName,SERVERROOTFILE+o[0].iconPath,o[0].userId,o[0].userType,n,s):chatApp(!1,"http://m.fetv.cn/images/static/chatIcon.png",void 0,1,n,s)}).catch(function(t){console.log(t)})}function chatApp(t,e,n,s,o,i){var c=!0,a=window,r=document,u="",h=a,l=!0,d=0;$("#content").on("focus",function(){var t=document.getElementById("content");setTimeout(function(){t.scrollIntoView(!0),t.scrollIntoViewIfNeeded()},200)}),a.CHAT={msgObj:r.getElementById("message"),userName:t,userIcon:e,userType:s,userId:n,socket:null,equipment:o,groupId:i,scrollToBottom:function(t){a.scrollTo(0,t)},logout:function(){this.socket.disconnect()},submit:function(t){var e=r.getElementById("content").innerHTML;if(""!=e){var n={type:"content",userId:this.userId,userName:this.userName,userIcon:this.userIcon,userType:this.userType,content:e};this.socket.emit("message",n),r.getElementById("content").innerHTML="",setTimeout(function(){r.getElementById("content").innerHTML=""},100)}return!1},genUid:function(){return null==CHAT.userId||void 0==CHAT.userId||""==CHAT.userId||"undefined"==CHAT.userId?(new Date).getTime()+""+Math.floor(899*Math.random()+100):(Array(6).join("1")+CHAT.userId).slice(-6)},updateSysMsg:function(t,e){t.onlineUsers},init:function(){h=this,this.userId=this.genUid(),this.socket=io.connect("http://106.14.210.98:3001");var t=this.userId.substr(this.userId.length-4);this.socket.emit("login",{userId:this.userId,userName:this.userName,userIcon:this.userIcon,userType:this.userType,equipment:o,showUid:t,groupId:i}),this.socket.on("login",function(t){CHAT.updateSysMsg(t,"login")}),this.socket.on("logout",function(t){CHAT.updateSysMsg(t,"logout")}),this.socket.on("init_msg",function(t){if(c){for(var e=0;e<t.length;e++)CHAT.message(t[e]);c=!c,setTimeout(function(){$("#chatContent").animate({scrollTop:$("#chatContent").prop("scrollHeight")},200)},200)}}),this.socket.on("receiveMessage",function(t){CHAT.message(t)})},message:function(t){t.userName||(t.userName="游客"+t.showUid),l=$("#chatContent").prop("scrollHeight")<=$("#chatContent").scrollTop()+$("#chatContent").height(),h.userId!=t.userId?((u=r.createElement("div")).className="chatLi clearfix",u.innerHTML='<div class="chatImg"><img src="'+t.userIcon+'" /></div><div class="chatRight"><div class="chatPerson"><span>'+t.userName+"</span><i>"+t.sendTime+'</i></div><div class="chatContent">'+t.content+"</div></div>"):((u=r.createElement("div")).className="chatLi chatLiMe clearfix",u.innerHTML='<div class="chatImg"><img src="'+t.userIcon+'" /></div><div class="chatRight"><div class="chatPerson"><i>'+t.sendTime+"</i><span>"+t.userName+'</span></div><div class="chatContent">'+t.content+"</div></div>"),CHAT.msgObj.appendChild(u),h.userId!=t.userId||c?c||(l?$("#chatContent").animate({scrollTop:$("#chatContent").prop("scrollHeight")},200):($(".chatUnreadCount").css("display","block"),isNaN(d)||d++,d>10&&(d="10+"),$(".chatUnreadCount").text(d))):setTimeout(function(){$("#chatContent").animate({scrollTop:$("#chatContent").prop("scrollHeight")},200)},200)}},CHAT.init(),r.getElementById("jSendBtn").addEventListener("click",function(){CHAT.submit()}),$(".chatUnreadCount").on("click",function(){$(".chatUnreadCount").css("display","none"),d=0,$("#chatContent").animate({scrollTop:$("#chatContent").prop("scrollHeight")},200)}),$("#chatContent").scroll(function(){$("#chatContent").prop("scrollHeight")<=$("#chatContent").scrollTop()+$("#chatContent").height()&&($(".chatUnreadCount").css("display","none"),d=0,$("#chatContent").animate({scrollTop:$("#chatContent").prop("scrollHeight")},200))})}
"use strict";function loginApp(){new Vue({el:"#jLoginApp",data:{currentPage:1,storageType:-1,userType:1,userName:"",userPwd:"",userInfArr:[],userCleanFlag:!1,userSubAcFlag:!1,quickName:"",quickImageVC:"",quickImageUrl:"./images/static/imagevc.jpg",imageCode:"",quickMGVC:"",messageCodeTips:PROMPTARR[7],quickCleanFlag:!1,quickSubAcFlag:!1,acGetMessageBtnFlage:!1,isGetMessageBtnFlage:!0},filters:{},mounted:function(){this.$nextTick(function(){})},methods:{changeShowPage:function(e){this.currentPage=e,2==e&&this.getImageVC()},addUserNameClean:function(){""!=this.userName?(this.userCleanFlag=!0,this.userSubAcFlag=!0):this.userCleanFlag=!1},removeUserNameClean:function(){this.userCleanFlag=!1},cleanUserName:function(){this.userName="",this.userSubAcFlag=!1,this.removeUserNameClean()},addQuickClean:function(){""!=this.quickName?(this.quickCleanFlag=!0,this.quickSubAcFlag=!0):this.quickCleanFlag=!1},removeQuickClean:function(){this.quickCleanFlag=!1},cleanQuickName:function(){this.quickName="",this.quickSubAcFlag=!1,this.removeQuickClean()},saveUserInfor:function(e){$(window).storager({key:"feUid"}).removeStorage(),$(window).storager({key:"feUNickName"}).removeStorage(),$(window).storager({key:"feUIcon"}).removeStorage(),$(window).storager({key:"feUName"}).removeStorage(),$(window).storager({key:"feUType"}).removeStorage(),$(window).storager({key:"feCommunityUid"}).removeStorage(),$(window).storager({key:"feUType",value:this.userType,expires:this.storageType}).addStorage(),$(window).storager({key:"feUid",value:e.userId,expires:this.storageType}).addStorage(),$(window).storager({key:"feCommunityUid",value:e.uid,expires:this.storageType}).addStorage(),$(window).storager({key:"feUName",value:e.userName,expires:this.storageType}).addStorage(),$(window).storager({key:"feUNickName",value:e.nickName,expires:this.storageType}).addStorage(),$(window).storager({key:"feUIcon",value:e.iconPath,expires:this.storageType}).addStorage(),this.successGoto()},successGoto:function(){layer.msg("登录成功!"),setTimeout(function(){goBack()},1e3)},getImageVC:function(){var e=this;axios({method:"get",url:"User.ashx?action=getImageVerifyCode",data:{}}).then(function(a){200==a.data.code?(e.quickImageUrl=SERVERROOTFILE+a.data.imagePath,e.imageCode=a.data.imageCode):layer.msg(PROMPTARR[0])}).catch(function(e){console.log(e)})},countVCTime:function(){var e=this,a=MESSAGECODETIME;e.acGetMessageBtnFlage=!1,e.isGetMessageBtnFlage=!1;var s=setInterval(function(){e.messageCodeTips=a--+"s",a<1&&(clearInterval(s),e.messageCodeTips=PROMPTARR[7],e.acGetMessageBtnFlage=!0,e.isGetMessageBtnFlage=!0)},1e3)},getMessageCode:function(){var e=this;return!emptyCheck(e.quickName,PROMPTARR[1])&&(!!e.acGetMessageBtnFlage&&(!!e.isGetMessageBtnFlage&&void axios({method:"post",url:"User.ashx?action=getLoginValidateCode",data:{mobile:e.quickName,imageCode:e.imageCode,imageValue:e.quickImageVC}}).then(function(a){200!=a.data.code?errorTips(a.data.message):(successTips(a.data.message),e.countVCTime())}).catch(function(e){console.log(e)})))},actMessageCodeBtn:function(){""==this.quickImageVC?this.acGetMessageBtnFlage=!1:this.isGetMessageBtnFlage&&(this.acGetMessageBtnFlage=!0)},loginSub:function(){var e=this;return!emptyCheck(e.userName,PROMPTARR[2])&&(!ruleCheck(CHECKRULEARR[0],e.userName,PROMPTARR[3])&&(!emptyCheck(e.userPwd,PROMPTARR[4])&&void axios({method:"post",url:"User.ashx?action=userLogin",data:{mobile:e.userName,password:e.userPwd,userType:e.userType}}).then(function(a){e.userInfArr=a.data,200==e.userInfArr.code?(successTips(e.userInfArr.message),e.saveUserInfor(e.userInfArr.rows[0])):errorTips(e.userInfArr.message)}).catch(function(e){console.log(e)})))},quickLoginSub:function(){var e=this;return!emptyCheck(e.quickName,PROMPTARR[1])&&(!ruleCheck(CHECKRULEARR[1],e.quickName,PROMPTARR[5])&&(!emptyCheck(e.quickImageVC,PROMPTARR[8])&&(!emptyCheck(e.quickMGVC,PROMPTARR[6])&&void axios({method:"post",url:"User.ashx?action=validateCodeLogin",data:{mobile:e.quickName,validateCode:e.quickMGVC,userType:e.userType}}).then(function(a){e.userInfArr=a.data,200==e.userInfArr.code?(successTips(e.userInfArr.message),e.saveUserInfor(e.userInfArr.rows[0])):errorTips(e.userInfArr.message)}).catch(function(e){console.log(e)}))))}}})}function forgetPwApp(){new Vue({el:"#jForgetApp",data:{storageType:-1,userType:1,userName:"",imageVC:"",imageUrl:"./images/static/imagevc.jpg",imageCode:"",MGVC:"",password:"",againPassword:"",messageCodeTips:PROMPTARR[7],quickCleanFlag:!1,subAcFlag:!1,acGetMessageBtnFlage:!1,isGetMessageBtnFlage:!0},filters:{},mounted:function(){this.$nextTick(function(){this.getImageVC()})},methods:{addUserNameClean:function(){""!=this.userName?(this.quickCleanFlag=!0,this.subAcFlag=!0):this.quickCleanFlag=!1},removeUserNameClean:function(){this.quickCleanFlag=!1},cleanUserName:function(){this.userName="",this.subAcFlag=!1,this.removeUserNameClean()},successGoto:function(){console.log("success")},getImageVC:function(){var e=this;axios({method:"get",url:"User.ashx?action=getImageVerifyCode",data:{}}).then(function(a){200==a.data.code?(e.imageUrl=SERVERROOTFILE+a.data.imagePath,e.imageCode=a.data.imageCode):layer.msg(PROMPTARR[0])}).catch(function(e){console.log(e)})},countVCTime:function(){var e=this,a=MESSAGECODETIME;e.acGetMessageBtnFlage=!1,e.isGetMessageBtnFlage=!1;var s=setInterval(function(){e.messageCodeTips=a--+"s",a<1&&(clearInterval(s),e.messageCodeTips=PROMPTARR[7],e.acGetMessageBtnFlage=!0,e.isGetMessageBtnFlage=!0)},1e3)},getMessageCode:function(){var e=this;return!emptyCheck(e.userName,PROMPTARR[1])&&(!!e.acGetMessageBtnFlage&&(!!e.isGetMessageBtnFlage&&void axios({method:"post",url:"User.ashx?action=getPwdAlterValidateCode",data:{mobile:e.userName,imageCode:e.imageCode,imageValue:e.imageVC}}).then(function(a){200!=a.data.code?errorTips(a.data.message):(successTips(a.data.message),e.countVCTime())}).catch(function(e){console.log(e)})))},actMessageCodeBtn:function(){""==this.imageVC?this.acGetMessageBtnFlage=!1:this.isGetMessageBtnFlage&&(this.acGetMessageBtnFlage=!0)},fogetSub:function(){var e=this;return!emptyCheck(e.userName,PROMPTARR[1])&&(!ruleCheck(CHECKRULEARR[1],e.userName,PROMPTARR[5])&&(!emptyCheck(e.imageVC,PROMPTARR[8])&&(!emptyCheck(e.MGVC,PROMPTARR[6])&&(!emptyCheck(e.password,PROMPTARR[4])&&(e.password!=e.againPassword?(layer.msg(PROMPTARR[9]),!1):void axios({method:"post",url:"User.ashx?action=resetPassword",data:{mobile:e.userName,validateCode:e.MGVC,userType:e.userType,password:e.password,forgetPwd:e.againPassword}}).then(function(a){e.userInfArr=a.data,200==e.userInfArr.code?(successTips(e.userInfArr.message),setTimeout(function(){window.location.href="./login.html"},2e3)):errorTips(e.userInfArr.message)}).catch(function(e){console.log(e)}))))))}}})}function regApp(){new Vue({el:"#jRegApp",data:{storageType:-1,userType:1,userName:"",imageVC:"",imageUrl:"./images/static/imagevc.jpg",imageCode:"",MGVC:"",password:"",messageCodeTips:PROMPTARR[7],quickCleanFlag:!1,subAcFlag:!1,acGetMessageBtnFlage:!1,isGetMessageBtnFlage:!0},filters:{},mounted:function(){this.$nextTick(function(){this.getImageVC()})},methods:{addUserNameClean:function(){""!=this.userName?(this.quickCleanFlag=!0,this.subAcFlag=!0):this.quickCleanFlag=!1},removeUserNameClean:function(){this.quickCleanFlag=!1},cleanUserName:function(){this.userName="",this.subAcFlag=!1,this.removeUserNameClean()},successGoto:function(){layer.msg("注册成功!"),setTimeout(function(){goBack()},1e3)},getImageVC:function(){var e=this;axios({method:"get",url:"User.ashx?action=getImageVerifyCode",data:{}}).then(function(a){200==a.data.code?(e.imageUrl=SERVERROOTFILE+a.data.imagePath,e.imageCode=a.data.imageCode):layer.msg(PROMPTARR[0])}).catch(function(e){console.log(e)})},countVCTime:function(){var e=this,a=MESSAGECODETIME;e.acGetMessageBtnFlage=!1,e.isGetMessageBtnFlage=!1;var s=setInterval(function(){e.messageCodeTips=a--+"s",a<1&&(clearInterval(s),e.messageCodeTips=PROMPTARR[7],e.acGetMessageBtnFlage=!0,e.isGetMessageBtnFlage=!0)},1e3)},getMessageCode:function(){var e=this;return!emptyCheck(e.userName,PROMPTARR[1])&&(!!e.acGetMessageBtnFlage&&(!!e.isGetMessageBtnFlage&&void axios({method:"post",url:"User.ashx?action=getRegisterValidateCode",data:{mobile:e.userName,imageCode:e.imageCode,imageValue:e.imageVC}}).then(function(a){200!=a.data.code?errorTips(a.data.message):(successTips(a.data.message),e.countVCTime())}).catch(function(e){console.log(e)})))},actMessageCodeBtn:function(){""==this.imageVC?this.acGetMessageBtnFlage=!1:this.isGetMessageBtnFlage&&(this.acGetMessageBtnFlage=!0)},saveUserInfor:function(e){$(window).storager({key:"feUid"}).removeStorage(),$(window).storager({key:"feUNickName"}).removeStorage(),$(window).storager({key:"feUIcon"}).removeStorage(),$(window).storager({key:"feUName"}).removeStorage(),$(window).storager({key:"feUType"}).removeStorage(),$(window).storager({key:"feCommunityUid"}).removeStorage(),$(window).storager({key:"feUType",value:this.userType,expires:this.storageType}).addStorage(),$(window).storager({key:"feUid",value:e.userId,expires:this.storageType}).addStorage(),$(window).storager({key:"feCommunityUid",value:e.uid,expires:this.storageType}).addStorage(),$(window).storager({key:"feUName",value:e.userName,expires:this.storageType}).addStorage(),$(window).storager({key:"feUNickName",value:e.nickName,expires:this.storageType}).addStorage(),$(window).storager({key:"feUIcon",value:e.iconPath,expires:this.storageType}).addStorage(),this.successGoto()},fogetSub:function(){var e=this;return!emptyCheck(e.userName,PROMPTARR[1])&&(!ruleCheck(CHECKRULEARR[1],e.userName,PROMPTARR[5])&&(!emptyCheck(e.imageVC,PROMPTARR[8])&&(!emptyCheck(e.MGVC,PROMPTARR[6])&&(!emptyCheck(e.password,PROMPTARR[4])&&(!ruleCheck(CHECKRULEARR[2],e.userName,PROMPTARR[9])&&void axios({method:"post",url:"User.ashx?action=userRegister",data:{mobile:e.userName,validateCode:e.MGVC,userType:e.userType,password:e.password}}).then(function(a){e.userInfArr=a.data,200==e.userInfArr.code?(successTips(e.userInfArr.message),e.saveUserInfor(e.userInfArr.rows[0])):errorTips(e.userInfArr.message)}).catch(function(e){console.log(e)}))))))}}})}
"use strict";function mediaHubApp(){new Vue({el:"#jMediaHubApp",data:{mediaArr:[],indexVideoArr:[],playauth:"",cover:"",bannerArr:[],bannerIndex:1,bannerSize:9,initSrcollCount:2,tempWonderfulArr:[],wonderfulArr:[],wonderfulIndex:1,wonderfulSize:2,wonderfulPageCount:0,allLoaded:!1,bottomStatus:"",bottomText:"释放更新"},filters:{addImagePre:function(e){return SERVERROOTFILE+e},addActiveHrefPre:function(e){return ROOT+"dist/mediadetail.html?mId="+e}},mounted:function(){this.$nextTick(function(){this.getIndexMedia(),this.getBanner(),this.getWonderful()})},methods:{getIndexMedia:function(){var e=this;axios({method:"post",url:"MicroVideo.ashx?action=getFilmHomePageVideoId",data:{organId:TempOrgId}}).then(function(t){e.indexVideoArr=t.data.rows,e.getPlayauth(e.indexVideoArr[0].videoId),$(".feTitle").text(e.indexVideoArr[0].videoName)}).catch(function(e){console.log(e)})},getPlayauth:function(e){var t=this;axios({method:"post",url:"CourseCatalog.ashx?action=getAppPlayUrlByVideoId",data:{videoid:e}}).then(function(a){t.playauth=a.data.rows[0].playAuth,t.loadPlayer(t.playauth,e)}).catch(function(e){console.log(e)})},loadPlayer:function(e,t){new Aliplayer({id:"jMeidaHubPlayer",playsinline:!0,width:"100%",height:"4.18rem",autoplay:!0,vid:t,playauth:e,cover:this.cover,skinLayout:[{name:"bigPlayButton",align:"cc"},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay",align:"cc"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:10},{name:"volume",align:"tr",x:10,y:10},{name:"streamButton",align:"tr",x:0,y:10},{name:"speedButton",align:"tr",x:0,y:10}]}]})},getBanner:function(){var e=this;axios({method:"post",url:"MicroVideo.ashx?action=getRelativeVideoById",data:{pageIndex:e.bannerIndex,pageSize:e.bannerSize}}).then(function(t){e.bannerArr=t.data.rows,e.bannerArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)})}).then(function(){e.bannerInit()}).catch(function(e){console.log(e)})},getWonderful:function(){var e=this;axios({method:"post",url:"MicroVideo.ashx?action=getWonderfulMicroVideo",data:{organId:TempOrgId,pageIndex:e.wonderfulIndex,pageSize:e.wonderfulSize}}).then(function(t){e.tempWonderfulArr=t.data.rows,e.tempWonderfulArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)}),e.wonderfulArr=e.wonderfulArr.concat(e.tempWonderfulArr),e.wonderfulPageCount=t.data.totalPageCount}).then(function(){e.initSrcollCount>1&&(setTimeout(function(){$(".feOtherInner").scrollTop(0)},2e3),e.initSrcollCount=1)}).catch(function(e){console.log(e)})},bannerInit:function(){new Swiper(".feMediaBannerContainer",{slidesPerView:2,spaceBetween:8,autoplay:{delay:3e3}})},loadBottom:function(){var e=this;this.wonderfulIndex<=this.wonderfulPageCount?(this.bottomText="释放更新!",this.wonderfulIndex++,this.getWonderful()):this.bottomText="我是有底线的!",setTimeout(function(){e.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(e){this.bottomStatus=e}}})}function mediaDetailApp(e){new Vue({el:"#jActiveDetailApp",data:{activeDetailArr:[],relateArr:[],tempRelateArr:[],relateIndex:1,relateSize:3,relatePageCount:0,cover:"",playauth:"",evaluationArr:[],tempEvaluationArr:[],evaluationIndex:1,evaluationSize:3,evaluationPageCount:0,evaluationText:"",allLoaded:!1,bottomStatus:"",bottomText:"释放更新",evaluationFlag:!1,hasPraised:0,saveTag:"add",thumbUpCount:0,lookMoreLabel:"查看更多"},filters:{addActiveHrefPre:function(e){return ROOT+"dist/mediadetail.html?mId="+e}},mounted:function(){this.$nextTick(function(){this.getActiveDetail(),this.relateVideo(),this.getEvaluation()})},methods:{getActiveDetail:function(){var t=this;axios({method:"post",url:"MicroVideo.ashx?action=getMicroVideoDetailById",data:{microVideoId:e,userId:varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),userType:varEmptyDeal($(window).storager({key:"feUType"}).readStorage())}}).then(function(e){t.activeDetailArr=e.data.rows,$(".feTitle").text(t.activeDetailArr[0].title),t.cover=SERVERROOTFILE+t.activeDetailArr[0].iconPath,t.hasPraised=t.activeDetailArr[0].hasPraised,t.thumbUpCount=t.activeDetailArr[0].thumbUpCount,t.getPlayauth(t.activeDetailArr[0].videoId),t.updateActiveReadCount()}).catch(function(e){console.log(e)})},setPraise:function(){var t=this;if(!checkLogined())return layer.confirm("游客用户请先登录!",{btn:["登录","取消"]},function(){location.href="../login.html"}),!1;0==t.hasPraised?t.saveTag="add":t.saveTag="delete",axios({method:"post",url:"VideoEvaluation.ashx?action=microVideoThumbUp",data:{microVideoId:e,userId:varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),userType:varEmptyDeal($(window).storager({key:"feUType"}).readStorage()),saveTag:t.saveTag}}).then(function(e){layer.msg(e.data.message),t.hasPraised=e.data.rows[0].hasPraised,t.thumbUpCount=e.data.rows[0].thumbUpCount}).catch(function(e){console.log(e)})},getPlayauth:function(e){var t=this;axios({method:"post",url:"CourseCatalog.ashx?action=getAppPlayUrlByVideoId",data:{videoid:e}}).then(function(a){t.playauth=a.data.rows[0].playAuth,t.loadPlayer(t.playauth,e)}).catch(function(e){console.log(e)})},loadPlayer:function(e,t){new Aliplayer({id:"jActivePlayer",playsinline:!0,width:"100%",height:"4.18rem",autoplay:!0,vid:t,playauth:e,cover:this.cover,skinLayout:[{name:"bigPlayButton",align:"cc"},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay",align:"cc"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:7},{name:"fullScreenButton",align:"tr",x:10,y:10},{name:"volume",align:"tr",x:10,y:10},{name:"streamButton",align:"tr",x:0,y:10},{name:"speedButton",align:"tr",x:0,y:10}]}]})},updateActiveReadCount:function(){axios({method:"post",url:"MicroVideo.ashx?action=updateVideoClickCount",data:{microVideoId:e}}).then(function(e){}).catch(function(e){console.log(e)})},relateVideo:function(){var e=this;axios({method:"post",url:"MicroVideo.ashx?action=getGuessLikeVideo",data:{organId:TempOrgId,pageIndex:e.relateIndex,pageSize:e.relateSize,userId:varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),userType:varEmptyDeal($(window).storager({key:"feUType"}).readStorage())}}).then(function(t){e.relatePageCount=t.data.totalPageCount,e.relatePageCount<e.relateIndex&&(e.lookMoreLabel="见底了！"),e.tempRelateArr=t.data.rows,e.tempRelateArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)}),e.relateArr=e.relateArr.concat(e.tempRelateArr)}).catch(function(e){console.log(e)})},loadMoreRelate:function(){this.relatePageCount>=this.relateIndex&&(this.relateIndex++,this.relateVideo())},getEvaluation:function(){var t=this;axios({method:"post",url:"VideoEvaluation.ashx?action=getEvaluation",data:{microVideoId:e,pageIndex:t.evaluationIndex,pageSize:t.evaluationSize}}).then(function(e){t.evaluationPageCount=e.data.totalPageCount,t.tempEvaluationArr=e.data.rows,t.tempEvaluationArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)}),t.evaluationArr=t.evaluationArr.concat(t.tempEvaluationArr)}).catch(function(e){console.log(e)})},addEvaluation:function(){var t=this;if(!checkLogined())return layer.confirm("游客用户请先登录!",{btn:["登录","取消"]},function(){location.href="../login.html"},function(){t.closeEvalation()}),!1;axios({method:"post",url:"VideoEvaluation.ashx?action=evaluationToMicroVideo",data:{microVideoId:e,valuatorId:varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),userType:varEmptyDeal($(window).storager({key:"feUType"}).readStorage()),evaluation:t.evaluationText}}).then(function(e){layer.msg(e.data.message),t.evaluationText="",t.evaluationArr=[],t.evaluationIndex=1,t.getEvaluation(),t.closeEvalation()}).catch(function(e){console.log(e)})},loadBottom:function(){var e=this;e.evaluationPageCount>=e.evaluationIndex?(this.bottomText="释放更新!",e.evaluationIndex++,e.getEvaluation()):this.bottomText="我是有底线的!",setTimeout(function(){e.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(e){this.bottomStatus=e},openEvalation:function(){this.evaluationFlag=!0},closeEvalation:function(){this.evaluationFlag=!1}}})}function mediaHubListApp(){new Vue({el:"#jMediaHubListApp",data:{tempWonderfulArr:[],wonderfulArr:[],wonderfulIndex:1,wonderfulSize:2,wonderfulPageCount:0,allLoaded:!1,bottomStatus:"",bottomText:"释放更新"},filters:{addImagePre:function(e){return SERVERROOTFILE+e},addActiveHrefPre:function(e){return ROOT+"dist/mediadetail.html?mId="+e}},mounted:function(){this.$nextTick(function(){this.getWonderful()})},methods:{getWonderful:function(){var e=this;axios({method:"post",url:"MicroVideo.ashx?action=getWonderfulMicroVideo",data:{organId:TempOrgId,pageIndex:e.wonderfulIndex,pageSize:e.wonderfulSize}}).then(function(t){e.tempWonderfulArr=t.data.rows,e.tempWonderfulArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)}),e.wonderfulArr=e.wonderfulArr.concat(e.tempWonderfulArr),e.wonderfulPageCount=t.data.totalPageCount}).then(function(){e.initSrcollCount>1&&(setTimeout(function(){$(".feOtherInner").scrollTop(0)},2e3),e.initSrcollCount=1)}).catch(function(e){console.log(e)})},loadBottom:function(){var e=this;this.wonderfulIndex<=this.wonderfulPageCount?(this.bottomText="释放更新!",this.wonderfulIndex++,this.getWonderful()):this.bottomText="我是有底线的!",setTimeout(function(){e.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(e){this.bottomStatus=e}}})}
"use strict";function meApp(){new Vue({el:"#jMeApp",data:{userLabel:"马上去认证",userIcon:"",gotoUrl:"./login.html",gotoStudy:"./login.html",gotoOrder:"./login.html",gotoCollection:"./login.html",gotoComment:"./login.html",isLogined:!1,userArr:[]},filters:{},mounted:function(){this.$nextTick(function(){this.initLayout()})},methods:{initLayout:function(){var e=this;checkLogined()&&(e.isLogined=!0,axios({method:"post",url:"User.ashx?action=getAppUserInfo",data:{userId:$(window).storager({key:"feUid"}).readStorage(),userType:$(window).storager({key:"feUType"}).readStorage()}}).then(function(o){e.userArr=o.data.rows,e.userLabel=e.userArr[0].nickName,e.userIcon=e.userArr[0].iconPath,valueEmpty(e.userIcon)?e.userIcon=SERVERROOTFILE+e.userIcon:e.userIcon="./images/static/headerIcon.png",$(window).storager({key:"feUName",value:e.userArr[0].userName,expires:-1}).addStorage(),$(window).storager({key:"feUNickName",value:e.userArr[0].nickName,expires:-1}).addStorage(),$(window).storager({key:"feUIcon",value:e.userArr[0].iconPath,expires:-1}).addStorage()}).catch(function(e){console.log(e)}),e.gotoUrl="./dist/accountmanagement.html",e.gotoStudy="./dist/studymanagement.html",e.gotoOrder="./dist/myorder.html",e.gotoCollection="./dist/mycollection.html",e.gotoComment="./dist/tobecomment.html")},gotoPersonPage:function(){localtion.href=this.gotoUrl}}})}
"use strict";function newsApp(){new Vue({el:"#jNewsApp",data:{newsBannerArr:[],newsTypeArr:[],newsListItem:[],currentNewsTypeId:"",currentIndex:0,newsListArr:[],newsListStatusArr:[],allLoaded:!1,bottomStatus:"",newsListSwiper:{},bottomText:"释放更新"},filters:{addImagePre:function(e){return SERVERROOTFILE+e},addNewsHrefPre:function(e){return ROOT+"dist/newsdetail.html?newsId="+e}},mounted:function(){this.$nextTick(function(){this.getBannerAndHotNews(),this.newTypeData(),this.searchInit()})},methods:{searchInit:function(){$("#feHeaderWhiteSearch input[type='search']").on("click",function(){window.location.href="./dist/newslist.html"})},getBannerAndHotNews:function(){var e=this;axios({method:"post",url:"News.ashx?action=getEducationNewsBanner",data:{organId:TempOrgId,pageSize:3}}).then(function(t){e.newsBannerArr=t.data.rows,e.newsBannerArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)})}).then(function(){e.newsBanner()}).catch(function(e){console.log(e)})},newsBanner:function(){new Swiper(".feNewsBannerContainer",{autoplay:{delay:3e3},pagination:{el:".feBanner-swiper-pagination",clickable:!0}})},newTypeData:function(){var e=this;axios({method:"post",url:"NewsType.ashx?action=getEducationNewsType",data:{organId:TempOrgId,pageSize:30}}).then(function(t){e.newsTypeArr=t.data.rows,e.newsListItem=e.newsTypeArr.length,e.currentNewsTypeId=e.newsTypeArr[0].newsTypeId;for(var n=0;n<e.newsListItem;n++)e.newsListArr.push([]),e.newsListStatusArr.push({pageIndex:1,pageSize:4,hadInit:!1,totalPageCount:1})}).then(function(){$(".feNewsTypeListContainer .swiper-slide").eq(0).addClass("active-nav"),e.getListData(),e.newsList()}).catch(function(e){console.log(e)})},changeSlide:function(e,t){this.currentNewsTypeId=e,this.currentIndex=t,this.newsListStatusArr[this.currentIndex].pageIndex>=this.newsListStatusArr[this.currentIndex].totalPageCount?this.bottomText="我是有底线的!":this.bottomText="释放更新!",this.newsListStatusArr[this.currentIndex].hadInit||this.getListData()},getListData:function(){var e=this;axios({method:"post",url:"News.ashx?action=getNewsByType",data:{organId:TempOrgId,newsTypeId:e.currentNewsTypeId,pageIndex:e.newsListStatusArr[e.currentIndex].pageIndex,pageSize:e.newsListStatusArr[e.currentIndex].pageSize}}).then(function(t){var n=t.data.rows;e.newsListStatusArr[e.currentIndex].hadInit||(e.newsListStatusArr[e.currentIndex].hadInit=!0,e.newsListStatusArr[e.currentIndex].totalPageCount=t.data.totalPageCount),n.forEach(function(t,n){Vue.set(t,"iconPath",SERVERROOTFILE+t.iconPath),e.newsListArr[e.currentIndex].push(t)})}).then(function(){e.newsListSwiper.update()}).catch(function(e){console.log(e)})},newsList:function(){var e=this,t=new Swiper(".feNewsListContainer",{on:{slideChange:function(){!function(){var s,i;if(i=t.activeIndex,$(".feNewsTypeListContainer .active-nav").removeClass("active-nav"),s=$(".feNewsTypeListContainer .swiper-slide").eq(i).addClass("active-nav"),e.currentNewsTypeId=s.attr("data-typeid"),e.changeSlide(e.currentNewsTypeId,i),!s.hasClass("swiper-slide-visible"))if(s.index()>n.activeIndex){var a=Math.floor(n.width/s.width())-1;n.slideTo(s.index()-a)}else n.slideTo(s.index())}()}},spaceBetween:34,autoHeight:!0});this.newsListSwiper=t;var n=new Swiper(".feNewsTypeListContainer",{visibilityFullFit:!0,slidesPerView:"auto",on:{click:function(){t.slideTo(n.clickedIndex)}}})},loadBottom:function(){void 0!==this.newsListStatusArr[this.currentIndex]&&(this.newsListStatusArr[this.currentIndex].pageIndex<this.newsListStatusArr[this.currentIndex].totalPageCount?(this.bottomText="释放更新!",this.newsListStatusArr[this.currentIndex].pageIndex=this.newsListStatusArr[this.currentIndex].pageIndex+1,this.getListData()):this.bottomText="我是有底线的!");var e=this;setTimeout(function(){e.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(e){this.bottomStatus=e}}})}function newsSearchApp(){new Vue({el:"#jNewsSearchApp",data:{newsListArr:[],pageIndex:1,pageSize:6,totalPageCount:0,searchValue:"",searchEmpty:!1,hadInit:!0,allLoaded:!1,bottomStatus:"",bottomText:"释放更新"},filters:{addImagePre:function(e){return SERVERROOTFILE+e},addNewsHrefPre:function(e){return ROOT+"dist/newsdetail.html?newsId="+e}},mounted:function(){this.$nextTick(function(){this.initSearchNews()})},methods:{initSearchNews:function(){var e=this;$("#feHeaderWhiteSearch input[type='search']").on("keypress",function(t){"13"==t.keyCode&&(t.preventDefault(),e.newsListArr=[],e.pageIndex=1,e.hadInit=!0,e.searchEmpty=!1,e.bottomText="释放更新",e.searchValue=$(this).val(),e.getSearchList(e.searchValue))}),$("#feHeaderWhiteSearch input[type='search']").focus()},getSearchList:function(e){var t=this;axios({method:"post",url:"News.ashx?action=getAppNewsByName",data:{name:e,pageIndex:t.pageIndex,pageSize:t.pageSize}}).then(function(e){var n=e.data.rows;console.log(t.hadInit),t.hadInit&&(t.hadInit=!1,0==n.length&&(t.searchEmpty=!0)),t.totalPageCount=e.data.totalPageCount,n.forEach(function(e,n){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath),t.newsListArr.push(e)})}).catch(function(e){console.log(e)})},loadBottom:function(){this.pageIndex<this.totalPageCount?(this.bottomText="释放更新!",this.pageIndex++,this.getSearchList(this.searchValue)):this.bottomText="我是有底线的!";var e=this;setTimeout(function(){e.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(e){this.bottomStatus=e}}})}function newsDetailApp(e){new Vue({el:"#jNewsDetailApp",data:{newsDetailArr:[],hiddenTitle:!1,newsTitle:""},filters:{},mounted:function(){this.$nextTick(function(){this.getNewsDetail()}),document.getElementById("jNewsDetailApp").addEventListener("scroll",this.handleScroll)},methods:{getNewsDetail:function(){var t=this;axios({method:"post",url:"News.ashx?action=getNewsByNewsId",data:{organId:TempOrgId,newsId:e}}).then(function(e){t.newsDetailArr=e.data.rows,t.newsTitle=t.newsDetailArr[0].title,t.updateNewsClickCount()}).catch(function(e){console.log(e)})},updateNewsClickCount:function(){axios({method:"post",url:"News.ashx?action=updateNewsClickCount",data:{newsId:e}}).then(function(e){}).catch(function(e){console.log(e)})},handleScroll:function(e){e.target.scrollTop>30?(this.hiddenTitle=!0,$("#feHeaderWhiteShare .feTitle").text(this.newsTitle)):(this.hiddenTitle=!1,$("#feHeaderWhiteShare .feTitle").text(""))}}})}
"use strict";function createOrder(e,r){var t=varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),o=varEmptyDeal($(window).storager({key:"feUType"}).readStorage());new Vue({el:"#jOrderApp",data:{orderArr:[],orderId:"",totalPrice:0},filters:{addCourseHrefPre:function(e,r){return ROOT+"dist/coursedetail.html?courseId="+e+"&courseKind="+r}},mounted:function(){this.$nextTick(function(){this.createOrderId()})},methods:{createOrderId:function(){var d=this;checkLogined()?axios({method:"post",url:"Order.ashx?action=appDirectBuyGoods",data:{userId:t,userType:o,goodsId:e,orderType:r}}).then(function(e){d.orderId=e.data.rows[0].orderId}).then(function(){d.getOrderInf(d.orderId)}).catch(function(e){console.log(e)}):window.location.href="../login.html"},getOrderInf:function(e){var d=this;axios({method:"post",url:"OrderDetail.ashx?action=getAppOrderListByOrderId",data:{userId:t,userType:o,orderType:r,orderId:e}}).then(function(e){d.orderArr=e.data.rows,d.totalPrice=e.data.totalPrice,d.orderArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath),Vue.set(e,"courseKind",r)})}).catch(function(e){console.log(e)})}}})}function orderDetailApp(e){var r=varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),t=varEmptyDeal($(window).storager({key:"feUType"}).readStorage());new Vue({el:"#jODApp",data:{orderCourse:[]},filters:{gotoComment:function(e,r){return ROOT+"./dist/comment.html?courseId="+e+"&courseKind="+r},gotoCourse:function(e,r){return ROOT+"dist/coursedetail.html?courseId="+e+"&courseKind="+r}},mounted:function(){this.$nextTick(function(){this.getOrderInf()})},methods:{getOrderInf:function(){var o=this;axios({method:"post",url:"OrderDetail.ashx?action=getAppOrderListByOrderId",data:{userId:r,userType:t,orderId:e}}).then(function(e){o.orderCourse=e.data.rows,o.orderCourse.forEach(function(e,r){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)})}).catch(function(e){console.log(e)})}}})}
"use strict";function schoolList(){new Vue({el:"#jSchoolListApp",data:{bannerArr:[],tempArr:[],schoolArr:[],allLoaded:!1,bottomStatus:"",bottomText:"释放更新",pageIndex:1,pageSize:18,allTotalPage:0},filters:{gotoSchool:function(t){return ROOT+"dist/schoolcenter.html?schoolId="+t}},mounted:function(){this.$nextTick(function(){this.initDate()})},methods:{initDate:function(){var t=this;axios({method:"post",url:"Organ.ashx?action=getAppSchoolList",data:{pageIndex:t.pageIndex,pageSize:t.pageSize}}).then(function(o){t.tempArr=o.data.rows,t.allTotalPage=o.data.totalPageCount,t.tempArr.forEach(function(o,e){Vue.set(o,"iconPath",SERVERROOTFILE+o.iconPath),t.schoolArr.push(o)})}).catch(function(t){console.log(t)})},loadBottom:function(){this.allTotalPage>=this.pageIndex?(this.pageIndex++,this.initDate(),this.bottomText="释放更新!"):this.bottomText="我是有底线的!";var t=this;setTimeout(function(){t.$refs.loadmore.onBottomLoaded()},2e3)},handleBottomChange:function(t){this.bottomStatus=t}}})}
"use strict";function teachercenterApp(e){new Vue({el:"#jTeacherApp",data:{teacherArr:[],teacherDetailArr:[],opening:!1,courseArr:[],courseTempArr:[],courseAllPage:0,courseIndex:1,courseSize:2,courseLabel:"查看更多",sourceArr:[],sourceTempArr:[],sourceAllPage:0,sourceIndex:1,sourceSize:2,sourceLabel:"查看更多",mediaArr:[],mediaTempArr:[],mediaAllPage:0,mediaIndex:1,mediaSize:3,mediaLabel:"查看更多",mediaEmpty:!1,courseEmpty:!1,sourceEmpty:!1},filters:{},mounted:function(){this.$nextTick(function(){this.getTeacherInf(),this.getCourse(1),this.getSource(1),this.getMedia(1)})},methods:{getTeacherInf:function(){var t=this;axios({method:"post",url:"Teacher.ashx?action=getAppTeacherById",data:{teacherId:e,userId:varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),userType:varEmptyDeal($(window).storager({key:"feUType"}).readStorage())}}).then(function(e){t.teacherArr=e.data.rows,t.teacherArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)})}).catch(function(e){console.log(e)}),axios({method:"post",url:"Teacher.ashx?action=getAppTeacherIntroduceById",data:{teacherId:e}}).then(function(e){t.teacherDetailArr=e.data.rows}).catch(function(e){console.log(e)})},toggleOpen:function(){this.opening=!this.opening},getCourse:function(t){var a=this;axios({method:"post",url:"Teacher.ashx?action=getTeacherRecommendCourse",data:{teacherId:e,pageIndex:a.courseIndex,pageSize:a.courseSize}}).then(function(e){a.courseTempArr=e.data.rows,1==t&&0==a.courseTempArr.length&&(a.courseEmpty=!0),a.courseAllPage=e.data.totalPageCount,a.courseTempArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)}),a.courseArr=a.courseArr.concat(a.courseTempArr)}).catch(function(e){console.log(e)})},getSource:function(t){var a=this;axios({method:"post",url:"Teacher.ashx?action=getTeacherResources",data:{teacherId:e,pageIndex:a.sourceIndex,pageSize:a.sourceSize}}).then(function(e){a.sourceTempArr=e.data.rows,1==t&&0==a.sourceTempArr.length&&(a.sourceEmpty=!0),a.sourceAllPage=e.data.totalPageCount,a.sourceTempArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)}),a.sourceArr=a.sourceArr.concat(a.sourceTempArr)}).catch(function(e){console.log(e)})},getMedia:function(t){var a=this;axios({method:"post",url:"Teacher.ashx?action=getTeacherVideoAndPhoto",data:{teacherId:e,pageIndex:a.mediaIndex,pageSize:a.mediaSize}}).then(function(e){a.mediaTempArr=e.data.rows,1==t&&0==a.mediaTempArr.length&&(a.mediaEmpty=!0),a.mediaAllPage=e.data.totalPageCount,a.mediaTempArr.forEach(function(e,t){Vue.set(e,"iconPath",SERVERROOTFILE+e.iconPath)}),a.mediaArr=a.mediaArr.concat(a.mediaTempArr)}).catch(function(e){console.log(e)})},getMore:function(e){1==e?this.courseAllPage>this.courseIndex?(this.courseIndex++,this.getCourse()):(layer.msg("暂无更多数据!"),this.courseLabel="暂无更多数据"):2==e?this.sourceAllPage>this.sourceIndex?(this.sourceIndex++,this.getSource()):(layer.msg("暂无更多数据!"),this.sourceLabel="暂无更多数据"):3==e&&(this.mediaAllPage>this.mediaIndex?(this.mediaIndex++,this.getMedia()):(layer.msg("暂无更多数据!"),this.mediaLabel="暂无更多数据"))},payAttention:function(){var t=this;axios({method:"post",url:"PayAttention.ashx?action=payAttention",data:{userId:varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),userType:varEmptyDeal($(window).storager({key:"feUType"}).readStorage()),attentedId:e,attentedType:1}}).then(function(e){layer.msg(e.data.message),t.teacherArr[0].hasFocused=1}).catch(function(e){console.log(e)})},cancelAttention:function(){var t=this;axios({method:"post",url:"PayAttention.ashx?action=cancelPayAttention",data:{userId:varEmptyDeal($(window).storager({key:"feUid"}).readStorage()),userType:varEmptyDeal($(window).storager({key:"feUType"}).readStorage()),attentedId:e,attentedType:1}}).then(function(e){layer.msg(e.data.message),t.teacherArr[0].hasFocused=0}).catch(function(e){console.log(e)})}}})}