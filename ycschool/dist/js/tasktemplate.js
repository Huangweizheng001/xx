!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=30)}({132:function(e,t){},30:function(e,t,a){"use strict";function n(e){return/\S+/.test(e)}a(132),function(){var e=$(this).getUrlParam("paperId");$(window).storager({key:"ycToken"}).readStorage(),new Vue({el:"#tasktemplate",data:{questionList:[],taskName:"",isPicture:"",imgArr:[]},filters:{addRootFile:function(e){return SERVERROOTFILE+e},getStyle:function(e){switch(e){case 1:return"single-choice";case 2:return"multiple-choice";case 3:return"judge";case 4:return"question-answer";case 5:return"completion"}},tostring:function(e){switch(e){case 1:return"A";case 2:return"B";case 3:return"C";case 4:return"D"}},toChinese:function(e){switch(e){case 1:return"一";case 2:return"二";case 3:return"三";case 4:return"四";case 5:return"五";case 6:return"六";case 7:return"七"}}},mounted:function(){var e=this;this.$nextTick(function(){e.getQuestionList(),e.bindChoice()})},methods:{getQuestionList:function(){var t=this,a=layer.load(1,{shade:[.1,"#fff"]});this.$http.post(SERVERROOTDATA+"api/student/site/Paper.ashx?action=GetPaper",{paperId:e},{emulateJSON:!0}).then(function(e){layer.close(a),200==e.body.code&&(t.questionList=e.body.rows.typeQuestions,t.taskName=e.body.rows.paperTitle,t.imgArr=e.body.rows.pictureNameArray,t.isPicture=e.body.rows.isPicture)}).then(function(){var e=$(".feanswer-card").height();$(".fetaskTemplate").css("marginBottom",e);var a=$(".fetaskTemplate").width();$(".feanswer-card").css("width",a),$(window.parent.document).find("#jTeacherIframe").css("height",$(".fetaskTemplate").height()+e+50+"px"),1==t.isPicture&&setTimeout(function(){$(window.parent.document).find("#jTeacherIframe").css("height",$(".fetaskTemplate").height()+e+50+"px")},300)}).then(function(){$(".fetaskTemplate").on("click","img",function(){showPhoto($(this))})})},bindChoice:function(){$(".fetaskTemplate").on("click",".single-choice .febox .fe-items .i-select",function(){$(this).siblings().removeClass("active"),$(this).addClass("active");var e=$(this).find("b").html();$(this).parent().parent().find("input.studentAnswer").val(e);var t=$(this).parent().parent().data("id"),a=$(this).parent().parent().data("source");n(e)?$(".w"+t+"-"+a).addClass("active"):$(".w"+t+"-"+a).removeClass("active")}),$(".fetaskTemplate").on("click",".multiple-choice .febox .fe-items .i-select",function(){$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active");for(var e=$(this).parent().find(".active"),t="",a=0;a<e.length;a++)t+=$(e[a]).find("b").html(),a<e.length-1&&(t+="、");$(this).parent().parent().find("input.studentAnswer").val(t);var i=$(this).parent().parent().data("id"),s=$(this).parent().parent().data("source");n(t)?$(".w"+i+"-"+s).addClass("active"):$(".w"+i+"-"+s).removeClass("active")}),$(".fetaskTemplate").on("click",".judge .febox .fe-items .i-select",function(){$(this).siblings().removeClass("active"),$(this).addClass("active");var e=$(this).find("b").html();$(this).parent().parent().find("input.studentAnswer").val(e);var t=$(this).parent().parent().data("id"),a=$(this).parent().parent().data("source");n(e)?$(".w"+t+"-"+a).addClass("active"):$(".w"+t+"-"+a).removeClass("active")}),$(".fetaskTemplate").on("keyup",".question-answer .febox .fe-items textarea",function(){var e=$(this).val();$(this).parent().parent().parent().find("input.studentAnswer").val(e);var t=$(this).parent().parent().parent().data("id"),a=$(this).parent().parent().parent().data("source");n(e)?$(".w"+t+"-"+a).addClass("active"):$(".w"+t+"-"+a).removeClass("active")}),$(".fetaskTemplate").on("keyup",".completion .febox .fe-stems input",function(){for(var e=$(this).parent().parent().find("input"),t="",a=0,i=0;i<e.length;i++)t+=$(e[i]).val(),i<e.length-1&&(t+="_"),n($(e[i]).val())||a++;$(this).parent().parent().parent().find("input.studentAnswer").val(t);var s=$(this).parent().parent().parent().data("id"),r=$(this).parent().parent().parent().data("source");a>0?$(".w"+s+"-"+r).removeClass("active"):$(".w"+s+"-"+r).addClass("active")})}}})}()}});