!function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=66)}({66:function(t,e,s){"use strict";$.fn.bindUpload=function(){var t={url:arguments[0].url||"",type:arguments[0].type||"",num:arguments[0].num||"",callbackPath:arguments[0].callbackPath||"#callbackPath",size:arguments[0].size||5},e=this,s=this.find("input.add"),n=0,i=null,a=[],l=/[\u4e00-\u9fa5]/g;1==t.num?s.removeAttr("multiple"):s.attr("multiple"),this.openWindow=function(n){for(var i=0,l=0;l<n.length;l++)t.num&&l<t.num||!t.num?(i+=n[l].size,a.push({name:n[l].name,state:0})):a.push({name:n[l].name,state:1});var d='<div id="zwb_upload_status"><div class="box">        <div class="title">            共'+Math.min(n.length,t.num)+"个文件&nbsp;"+(0==(i/1048576).toFixed(3)?i/1048576:(i/1048576).toFixed(3))+'mb        </div>        <div class="list"><ul class="listBox"></ul></div>        <div class="foot">            <span class="ok">一键上传</span>            <span class="off">关闭</span>        </div></div>    </div>';e.append(d),e.find(".off").bind("click",function(){s.val(""),e.find("#zwb_upload_status").fadeOut(100,function(){$(this).remove()}),a=[],n=null;for(var t=$('<div class="feimgList"></div>'),i=photoArray.split("|"),l=0;l<i.length-1;l++)t.append('<img src="'+SERVERROOTFILE+i[l]+'">');""!==photoArray&&$(".feorgan-certificate").html(t)}),e.getImgSrc(n)},this.getImgSrc=function(s){var d=new FileReader,o=s[n].size,r=s[n].name,p=r.lastIndexOf("."),c=r.substring(p+1,r.length),u="";if(""!=t.type&&-1==t.type.indexOf(c)&&(u="文件格式非法",a[n].state=1),l.test(r)&&(u="文件名不能含有中文",a[n].state=1),""!=t.size&&o/1048576>t.size&&(u="文件过大",a[n].state=1),"png"==c||"jpg"==c||"gif"==c||"svg"==c||"jpeg"==c)d.readAsDataURL(s[n]),d.onload=function(){var l=d.result;if((n<t.num||""==t.num)&&e.find("#zwb_upload_status ul.listBox").append('<li><img  src="'+l+'"/><a><p class="name">'+r+'</p><p class="size">大小:&nbsp;'+(0==(o/1048576).toFixed(3)?o/1048576:(o/1048576).toFixed(3))+'b</p><p>状态:&nbsp;<b class="state">未上传</b></p></a><span class="success"></span><span class="delete"></span><div class="err"'+(u?'style="width:100%;"':"")+">"+u+'</div><div class="progressBox"><div class="progress"></div></div></li>'),++n!=s.length)return e.getImgSrc(s);n=0,e.find(e.find("#zwb_upload_status").fadeIn(100)),i=e.find("#zwb_upload_status ul.listBox li"),e.find(".ok").bind("click",function(){for(var t=s.length,n=0;n<s.length;n++)0==a[n].state&&e.upload(t,n,s[n])}),e.find(".delete").bind("click",function(){var t=$(this).parent().index();a[t].state=1,$(this).parent().hide(100)})};else{if(imgPath="zip"==c||"rar"==c||"jar"==c||"7z"==c||"cab"==c||"iso"==c?"img/zip.png":"text"==c?"img/text.png":"doc"==c?"img/word.png":"html"==c||"htm"==c||"url"==c?"img/html.png":"xls"==c?"img/excal.png":"exe"==c?"img/exe.png":"css"==c||"less"==c||"sass"==c?"img/css.jpg":"js"==c?"img/js.jpg":"php"==c?"img/php.png":"sql"==c?"img/sql.png":"ttf"==c||"otf"==c||"ttc"==c||"woff"==c||"woff2"==c?"img/font.png":"img/unknown.png",(n<t.num||""==t.num)&&e.find("#zwb_upload_status ul.listBox").append('<li><img  src="'+imgPath+'"/><a><p class="name">'+r+'</p><p class="size">大小:&nbsp;'+(0==(o/1048576).toFixed(3)?o/1048576:(o/1048576).toFixed(3))+'b</p><p>状态:&nbsp;<b class="state">未上传</b></p></a><span class="success"></span><span class="delete"></span><div class="err"'+(u?'style="width:100%;"':"")+">"+u+'</div><div class="progressBox"><div class="progress"></div></div></li>'),++n!=s.length)return e.getImgSrc(s);n=0,e.find(e.find("#zwb_upload_status").fadeIn(100)),i=e.find("#zwb_upload_status ul.listBox li"),e.find(".ok").bind("click",function(){for(var t=s.length,n=0;n<s.length;n++)0==a[n].state&&e.upload(t,n,s[n])}),e.find(".delete").bind("click",function(){var t=$(this).parent().index();a[t].state=1,$(this).parent().hide(100)})}},this.upload=function(e,s,n){var l=new FormData;l.append("file",n),l.append("action","formDataUploadNew"),$.ajax({url:t.url,type:"post",data:l,cache:!1,contentType:!1,processData:!1,beforeSend:function(){i.eq(s).find(".progressBox").show()},success:function(l){if(""!=l&&"文件错误"!=l){var d=JSON.parse(l);photoArray+=d.iconPath+"|",a[s].state=1,i.eq(s).find(".state").html("上传成功"),i.eq(s).find(".success").addClass("success2"),i.eq(s).find(".delete").remove();var o=$(t.callbackPath),r=o.val();t.num&&s==t.num-1||s==e-1?o.val(r+n.name+","+l.path):o.val(r+n.name+","+l.path+"|")}else i.eq(s).find(".state").html(l.errmsg),i.eq(s).find(".err").width("100%").html("上传失败");i.eq(s).find(".progressBox").hide()},error:function(){i.eq(s).find(".progressBox").hide(),i.eq(s).find(".state").html("请求失败"),i.eq(s).find(".err").width("100%").html("请求失败")}})},s.bind("change",function(){""!=$(this).val()&&e.openWindow(this.files)})}}});