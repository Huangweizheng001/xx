!function(e){var t={};function o(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=70)}({159:function(e,t){},70:function(e,t,o){"use strict";o(159);var r=$(document).getUrlParam("page");"reg"!=r&&(r=0),new Vue({el:"#jLoginApp",data:{currentTypeLabel:"学生",currentTypeIndex:1,account:"",password:"",accountTipsFlag:!1,accountTips:"账号不能为空!",passwordTipsFlag:!1,passwordTips:"密码不能为空!",storageType:-1},filters:{},watch:{account:function(e){""!=e&&(this.accountTipsFlag=!1)},password:function(e){""!=e&&(this.passwordTipsFlag=!1)}},mounted:function(){this.$nextTick(function(){})},methods:{loginSub:function(){var e=this,t=SERVERROOTDATA;if(!e.emptyCheck())return!1;1==e.currentTypeIndex?t+="api/student/site/Student.ashx?action=login":3==e.currentTypeIndex&&(t+="api/teacher/site/login.ashx?action=login"),this.$http.post(t,{code:e.account,password:e.password},{emulateJSON:!0}).then(function(t){200==t.body.code?e.saveUserInfor(t.body.rows[0]):803==t.body.code?(e.accountTipsFlag=!0,e.accountTips=t.body.message):804==t.body.code&&(e.passwordTipsFlag=!0,e.passwordTips=t.body.message)})},changeUserType:function(e){this.currentTypeIndex=e,this.currentTypeLabel=3==e?"教师":"学生"},keyboardSub:function(e){13==e.keyCode&&this.emptyCheck()&&this.loginSub()},emptyCheck:function(){return""==this.account?(this.accountTipsFlag=!0,this.passwordTipsFlag=!1,this.accountTips="请输入账号！",!1):""==this.password?(this.accountTipsFlag=!1,this.passwordTipsFlag=!0,this.passwordTips="请输入密码！",!1):(this.accountTipsFlag=!1,this.passwordTipsFlag=!1,!0)},successTipGoTo:function(){layer.msg("登录成功!"),this.goPrePage()},toggleStorage:function(){-1==this.storageType?this.storageType=0:this.storageType=-1},goPrePage:function(){var e=$(window).storager({key:"prePage"}).readStorage();setTimeout(function(){window.location.href=void 0==e||"undefined"==e?"index.html":e},300)},saveUserInfor:function(e){$(window).storager({key:"uType"}).removeStorage(),$(window).storager({key:"uId"}).removeStorage(),$(window).storager({key:"uName"}).removeStorage(),$(window).storager({key:"uNickName"}).removeStorage(),$(window).storager({key:"uIcon"}).removeStorage(),$(window).storager({key:"ycToken"}).removeStorage(),1==this.currentTypeIndex?($(window).storager({key:"uType",value:this.currentTypeIndex,expires:this.storageType}).addStorage(),$(window).storager({key:"uId",value:e.studentId,expires:this.storageType}).addStorage(),$(window).storager({key:"uName",value:e.studentName,expires:this.storageType}).addStorage(),$(window).storager({key:"uNickName",value:e.nickName,expires:this.storageType}).addStorage(),$(window).storager({key:"uIcon",value:e.iconPath,expires:this.storageType}).addStorage(),$(window).storager({key:"ycToken",value:e.ycToken,expires:this.storageType}).addStorage()):3==this.currentTypeIndex&&($(window).storager({key:"uType",value:this.currentTypeIndex,expires:this.storageType}).addStorage(),$(window).storager({key:"uId",value:e.teacherId,expires:this.storageType}).addStorage(),$(window).storager({key:"uName",value:e.teacherName,expires:this.storageType}).addStorage(),$(window).storager({key:"uNickName",value:e.nickName,expires:this.storageType}).addStorage(),$(window).storager({key:"uIcon",value:e.iconPath,expires:this.storageType}).addStorage(),$(window).storager({key:"ycToken",value:e.ycToken,expires:this.storageType}).addStorage()),this.successTipGoTo()}}})}});