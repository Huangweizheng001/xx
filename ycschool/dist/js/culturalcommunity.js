!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=65)}({140:function(e,t){},65:function(e,t,n){"use strict";n(140),new Vue({el:"#knowledgepay",data:{login:!1,teacherCurrent:1,teacherPage:0,nickName:"",mypoint:0,myQnum:0,myAnum:0,questionList:[],headIcon:"",teacherQAList:[],parentClass:[],articles:[],nodata:!1,noQuestionData:!1,textArea:"",limitsize:0},filters:{addRootFile:function(e){return SERVERROOTFILE+e},addRoot:function(e,t){return"player.html?cid="+e+"&vid="+t},addQuestionRoot:function(e){return ROOT+"replydetail.html?questionId="+e},addTeacherRoot:function(e){return ROOT+"askteacherquestion.html?teacherId="+e},addArticleRoot:function(e){return"details.html?activityId="+e},showTime:function(e){var t=e.replace(/-/g,"/"),n=(new Date).getTime()-new Date(t).getTime(),o=Math.floor(n/864e5),i=n%864e5,a=Math.floor(i/36e5),r=i%36e5,s=Math.floor(r/6e4),c=r%6e4,u=Math.round(c/1e3);return o>0?o+"天前":a>0?a+"小时前":s>0?s+"分钟前":u>0?"刚刚":void 0}},mounted:function(){var e=this;this.$nextTick(function(){e.init(),e.waitForU(),e.teacherAnswerList(e.teacherCurrent),e.getParentClass(),e.getArticle()})},methods:{init:function(){var e=this,t=$(window).storager({key:"ycToken"}).readStorage();e.headIcon=$(window).storager({key:"uIcon"}).readStorage(),null==t||void 0==t||"undefined"==t?this.login=!1:(this.login=!0,this.nickName=$(window).storager({key:"uName"}).readStorage(),this.$http.post(SERVERROOTDATA+"api/knowledge/site/KnowledgePay.ashx?action=getUserKPInfo",{ycToken:t},{emulateJSON:!0}).then(function(t){200==t.body.code&&t.body.rows.length>0&&(e.mypoint=t.body.rows[0].myPoint,e.myQnum=t.body.rows[0].myQuestionNum,e.myAnum=t.body.rows[0].myResponseNum)}))},waitForU:function(){var e=this;this.$http.post(SERVERROOTDATA+"website/ashx/site/knowledgePay.ashx?action=getWaitResponseList",{gradeId:"",subjectId:"",key:"",pageIndex:1,pageSize:5},{emulateJSON:!0}).then(function(t){200==t.body.code&&(t.body.rows.length<1?e.noQuestionData=!0:e.noQuestionData=!1,e.questionList=t.body.rows)})},teacherAnswerList:function(e){var t=this;this.$http.post(SERVERROOTDATA+"website/ashx/site/knowledgePay.ashx?action=getTeacherQAList",{pageIndex:e,pageSize:5},{emulateJSON:!0}).then(function(e){200==e.body.code&&(t.teacherQAList=e.body.rows,t.teacherPage=e.body.totalPageCount)})},anotherBatch:function(){this.teacherCurrent<this.teacherPage?this.teacherAnswerList(++this.teacherCurrent):this.teacherCurrent=1},getParentClass:function(){var e=this;this.$http.post(SERVERROOTDATA+"website/ashx/site/KnowledgePay.ashx?action=getParentCourseList",{pageIndex:1,pageSize:6},{emulateJSON:!0}).then(function(t){200==t.body.code&&(e.parentClass=t.body.rows,t.body.rows.length<1?e.nodata=!0:e.nodata=!1)}).then(function(){e.parentClass.forEach(function(e,t){Vue.set(e,"headIconPath",SERVERROOTFILE+e.pcHeadIconPath)})})},getArticle:function(){var e=this;this.$http.post(SERVERROOTDATA+"website/ashx/site/Activity.ashx?action=getHottestStudyActivity",{pageIndex:1,pageSize:8},{emulateJSON:!0}).then(function(t){200==t.body.code&&(e.articles=t.body.rows)})},psychological:function(){new Swiper(".teacher-content-hook",{autoplay:{stopOnLastSlide:!0,disableOnInteraction:!1},speed:1e3,autoplayDisableOnInteraction:!1,loop:!0,centeredSlides:!0,slidesPerView:5,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{668:{slidesPerView:1}}})},limitSize:function(){this.limitsize=this.textArea.length},jxSubmit:function(){var e;if(e=this.textArea,/\S+/.test(e))if(this.limitsize>400)layer.msg("您的字数超出范围");else{this.$http.post(SERVERROOTDATA+"api/knowledge/site/knowledgePay.ashx?action=saveSuggestion",{content:this.textArea},{emulateJSON:!0}).then(function(e){200==e.body.code&&layer.msg(e.body.message)})}else layer.msg("请输入您的留言")},gotoMyquestion:function(){3==$(window).storager({key:"uType"}).readStorage()||(window.location.href=ROOT+"studentcenter.html#answer")},gotoMyreply:function(){var e=$(window).storager({key:"uType"}).readStorage();window.location.href=3==e?ROOT+"teachercenter.html#answer":ROOT+"studentcenter.html?type=1#answer"}}})}});